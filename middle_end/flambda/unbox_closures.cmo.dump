(setglobal Unbox_closures!
  (let
    (Transform =
       (module-defn(Transform) middle_end/flambda/unbox_closures.ml(24):1350-4000
         (let
           (pass_name = "unbox-closures"
            precondition =
              (function env set_of_closures
                (funct-body middle_end/flambda/unbox_closures.ml(27)<ghost>:1431-1606
                  (before middle_end/flambda/unbox_closures.ml(28):1487-1606
                    (&& (field 0 (field 134 (global Clflags!)))
                      (&&
                        (not
                          (after middle_end/flambda/unbox_closures.ml(29):1524-1543
                            (apply
                              (field 29
                                (field 0 (global Inline_and_simplify_aux!)))
                              env)))
                        (not
                          (after middle_end/flambda/unbox_closures.ml(30):1557-1606
                            (apply (field 1 (field 7 (global Variable!)))
                              (field 1 set_of_closures)))))))))
            what_to_specialise =
              (function env set_of_closures
                (funct-body middle_end/flambda/unbox_closures.ml(32)<ghost>:1633-3996
                  (before middle_end/flambda/unbox_closures.ml(33):1689-3996
                    (let
                      (what_to_specialise =
                         (after middle_end/flambda/unbox_closures.ml(33):1714-1739
                           (apply
                             (field 0
                               (field 1 (global Augment_specialised_args!)))
                             set_of_closures)))
                      (before middle_end/flambda/unbox_closures.ml(34):1747-3996
                        (if
                          (not
                            (after middle_end/flambda/unbox_closures.ml(34):1754-1790
                              (apply precondition env set_of_closures)))
                          (before middle_end/flambda/unbox_closures.ml(35):1802-1820
                            what_to_specialise)
                          (before middle_end/flambda/unbox_closures.ml(36):1830-3996
                            (let
                              (round =[int]
                                 (after middle_end/flambda/unbox_closures.ml(37):1854-1865
                                   (apply
                                     (field 3
                                       (field 0
                                         (global Inline_and_simplify_aux!)))
                                     env)))
                              (before middle_end/flambda/unbox_closures.ml(38):1875-3988
                                (let
                                  (num_closure_vars =[int]
                                     (after middle_end/flambda/unbox_closures.ml(38):1898-1945
                                       (apply
                                         (field 17
                                           (field 7 (global Variable!)))
                                         (field 1 set_of_closures))))
                                  (before middle_end/flambda/unbox_closures.ml(39):1955-3988
                                    (let
                                      (saved_by_not_building_closure =
                                         (after middle_end/flambda/unbox_closures.ml(43):2161-2215
                                           (apply
                                             (field 6
                                               (field 3
                                                 (global Inlining_cost!)))
                                             (after middle_end/flambda/unbox_closures.ml(43):2176-2198
                                               (apply
                                                 (field 3
                                                   (field 3
                                                     (global Inlining_cost!)))
                                                 (field 0
                                                   (field 3
                                                     (global Inlining_cost!)))))
                                             num_closure_vars)))
                                      (before middle_end/flambda/unbox_closures.ml(45):2231-3988
                                        (after middle_end/flambda/unbox_closures.ml(45):2231-3988
                                          (apply
                                            (field 35
                                              (global Flambda_iterators!))
                                            set_of_closures
                                            what_to_specialise
                                            (function fun_var function_decl
                                              what_to_specialise
                                              (funct-body middle_end/flambda/unbox_closures.ml(47):2344-3988
                                                (before middle_end/flambda/unbox_closures.ml(49):2452-3987
                                                  (let
                                                    (body_size =[int]
                                                       (after middle_end/flambda/unbox_closures.ml(49):2468-2512
                                                         (apply
                                                           (field 10
                                                             (global Inlining_cost!))
                                                           (field 2
                                                             function_decl))))
                                                    (before middle_end/flambda/unbox_closures.ml(54):2792-3987
                                                      (let
                                                        (small_enough_to_duplicate =
                                                           (let
                                                             (wsb =
                                                                (after middle_end/flambda/unbox_closures.ml(57):2931-3215
                                                                  (apply
                                                                    (field 1
                                                                    (field 4
                                                                    (global Inlining_cost!)))
                                                                    0 0a 0
                                                                    (+
                                                                    (/
                                                                    body_size
                                                                    (field 0
                                                                    (field 135
                                                                    (global Clflags!))))
                                                                    1)
                                                                    saved_by_not_building_closure
                                                                    0a round)))
                                                             (before middle_end/flambda/unbox_closures.ml(65):3243-3257
                                                               (after middle_end/flambda/unbox_closures.ml(65):3243-3257
                                                                 (apply
                                                                   (field 2
                                                                    (field 4
                                                                    (global Inlining_cost!)))
                                                                   wsb)))))
                                                        (before middle_end/flambda/unbox_closures.ml(67):3281-3987
                                                          (let
                                                            (what_to_specialise =
                                                               (if
                                                                 small_enough_to_duplicate
                                                                 (before middle_end/flambda/unbox_closures.ml(69):3366-3426
                                                                   (after middle_end/flambda/unbox_closures.ml(69):3366-3426
                                                                    (apply
                                                                    (field 2
                                                                    (field 1
                                                                    (global Augment_specialised_args!)))
                                                                    what_to_specialise
                                                                    fun_var)))
                                                                 (before middle_end/flambda/unbox_closures.ml(71):3458-3476
                                                                   what_to_specialise)))
                                                            (before middle_end/flambda/unbox_closures.ml(73):3500-3987
                                                              (let
                                                                (bound_by_the_closure =
                                                                   (after middle_end/flambda/unbox_closures.ml(74):3539-3668
                                                                    (apply
                                                                    (field 4
                                                                    (global Flambda_utils!))
                                                                    (after middle_end/flambda/unbox_closures.ml(75):3598-3623
                                                                    (apply
                                                                    (field 9
                                                                    (global Closure_id!))
                                                                    fun_var))
                                                                    (field 0
                                                                    set_of_closures))))
                                                                (before middle_end/flambda/unbox_closures.ml(78):3692-3987
                                                                  (after middle_end/flambda/unbox_closures.ml(78):3692-3987
                                                                    (apply
                                                                    (field 14
                                                                    (field 6
                                                                    (global Variable!)))
                                                                    (function
                                                                    inner_free_var
                                                                    what_to_specialise
                                                                    (funct-body middle_end/flambda/unbox_closures.ml(78):3710-3923
                                                                    (before middle_end/flambda/unbox_closures.ml(79):3766-3922
                                                                    (after middle_end/flambda/unbox_closures.ml(79):3766-3922
                                                                    (apply
                                                                    (field 1
                                                                    (field 1
                                                                    (global Augment_specialised_args!)))
                                                                    what_to_specialise
                                                                    fun_var
                                                                    inner_free_var
                                                                    (makeblock 0
                                                                    inner_free_var))))))
                                                                    bound_by_the_closure
                                                                    what_to_specialise)))))))))))))))))))))))))))))
           (pseudo middle_end/flambda/unbox_closures.ml(24):1369-4000
             (makeblock 0 pass_name precondition what_to_specialise))))
     include =
       (apply
         (let (let = (field 2 (global Augment_specialised_args!)))
           (field 2 (global Augment_specialised_args!)))
         (makeblock 0 (field 0 Transform) (field 2 Transform)))
     rewrite_set_of_closures =a (field 0 include))
    (pseudo _none_(0)<ghost>:-1--1 (makeblock 0 rewrite_set_of_closures))))
