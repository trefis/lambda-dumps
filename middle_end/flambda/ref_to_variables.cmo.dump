(setglobal Ref_to_variables!
  (let
    (variables_not_used_as_local_reference =
       (function tree
         (funct-body middle_end/flambda/ref_to_variables.ml(20)<ghost>:1280-3840
           (before middle_end/flambda/ref_to_variables.ml(21):1301-3840
             (let
               (set = (makemutable 0 (field 0 (field 6 (global Variable!)))))
               (before middle_end/flambda/ref_to_variables.ml(22):1339-3840
                 (letrec
                   (loop_named
                      (function flam
                        (funct-body middle_end/flambda/ref_to_variables.ml(22)<ghost>:1358-2252
                          (before middle_end/flambda/ref_to_variables.ml(23):1387-2252
                            (catch
                              (switch flam
                               case tag 5:
                                (let (set_of_closures =a (field 0 flam))
                                  (before middle_end/flambda/ref_to_variables.ml(36):1996-2223
                                    (seq
                                      (setfield_ptr 0 set
                                        (after middle_end/flambda/ref_to_variables.ml(36):2003-2062
                                          (apply
                                            (field 6
                                              (field 6 (global Variable!)))
                                            (field 0 set)
                                            (after middle_end/flambda/ref_to_variables.ml(36):2027-2062
                                              (apply
                                                (field 2 (global Flambda!))
                                                0a flam)))))
                                      (before middle_end/flambda/ref_to_variables.ml(37):2070-2223
                                        (after middle_end/flambda/ref_to_variables.ml(37):2070-2223
                                          (apply
                                            (field 11
                                              (field 7 (global Variable!)))
                                            (function param function_decl
                                              (funct-body middle_end/flambda/ref_to_variables.ml(37):2088-2179
                                                (before middle_end/flambda/ref_to_variables.ml(38):2155-2178
                                                  (after middle_end/flambda/ref_to_variables.ml(38):2155-2178
                                                    (apply loop
                                                      (field 2 function_decl))))))
                                            (field 3
                                              (field 0 set_of_closures))))))))
                               case tag 9:
                                (let (*match* =a (field 0 flam))
                                  (catch
                                    (catch
                                      (switch *match*
                                       case tag 2: (exit 4)
                                       case tag 3:
                                        (let (*match* =a (field 1 flam))
                                          (if *match*
                                            (let
                                              (*match* =a (field 1 *match*))
                                              (if *match*
                                                (let
                                                  (*match* =a
                                                     (field 1 *match*))
                                                  (if *match* (exit 3)
                                                    (let
                                                      (v =a (field 0 *match*))
                                                      (before middle_end/flambda/ref_to_variables.ml(29):1663-1693
                                                        (setfield_ptr 0 set
                                                          (after middle_end/flambda/ref_to_variables.ml(29):1670-1693
                                                            (apply
                                                              (field 3
                                                                (field 6
                                                                  (global Variable!)))
                                                              v
                                                              (field 0 set))))))))
                                                (exit 3)))
                                            (exit 3)))
                                       case tag 14: (exit 4)
                                       default: (exit 3))
                                     with (4)
                                      (let (*match* =a (field 1 flam))
                                        (if *match*
                                          (let (*match* =a (field 1 *match*))
                                            (if *match* (exit 3)
                                              (before middle_end/flambda/ref_to_variables.ml(26):1534-1536
                                                0a)))
                                          (exit 3))))
                                   with (3) (exit 2)))
                               case tag 10:
                                (let (e =a (field 0 flam))
                                  (before middle_end/flambda/ref_to_variables.ml(41):2246-2252
                                    (after middle_end/flambda/ref_to_variables.ml(41):2246-2252
                                      (apply loop e))))
                               default: (exit 2))
                             with (2)
                              (before middle_end/flambda/ref_to_variables.ml(34):1882-1948
                                (setfield_ptr 0 set
                                  (after middle_end/flambda/ref_to_variables.ml(34):1889-1948
                                    (apply
                                      (field 6 (field 6 (global Variable!)))
                                      (field 0 set)
                                      (after middle_end/flambda/ref_to_variables.ml(34):1913-1948
                                        (apply (field 2 (global Flambda!)) 0a
                                          flam))))))))))
                     loop
                       (function flam
                         (funct-body middle_end/flambda/ref_to_variables.ml(42)<ghost>:2264-3815
                           (before middle_end/flambda/ref_to_variables.ml(43):2289-3815
                             (catch
                               (switch flam
                                case tag 0:
                                 (let (v =a (field 0 flam))
                                   (before middle_end/flambda/ref_to_variables.ml(51):2522-2552
                                     (setfield_ptr 0 set
                                       (after middle_end/flambda/ref_to_variables.ml(51):2529-2552
                                         (apply
                                           (field 3
                                             (field 6 (global Variable!)))
                                           v (field 0 set))))))
                                case tag 1:
                                 (let
                                   (*match* =a (field 0 flam)
                                    body =a (field 2 *match*)
                                    defining_expr =a (field 1 *match*))
                                   (before middle_end/flambda/ref_to_variables.ml(45):2351-2392
                                     (seq
                                       (after middle_end/flambda/ref_to_variables.ml(45):2351-2375
                                         (apply loop_named defining_expr))
                                       (before middle_end/flambda/ref_to_variables.ml(46):2383-2392
                                         (after middle_end/flambda/ref_to_variables.ml(46):2383-2392
                                           (apply loop body))))))
                                case tag 2:
                                 (let
                                   (*match* =a (field 0 flam)
                                    body =a (field 3 *match*)
                                    v =a (field 1 *match*))
                                   (before middle_end/flambda/ref_to_variables.ml(53):2608-2655
                                     (seq
                                       (setfield_ptr 0 set
                                         (after middle_end/flambda/ref_to_variables.ml(53):2615-2638
                                           (apply
                                             (field 3
                                               (field 6 (global Variable!)))
                                             v (field 0 set))))
                                       (before middle_end/flambda/ref_to_variables.ml(54):2646-2655
                                         (after middle_end/flambda/ref_to_variables.ml(54):2646-2655
                                           (apply loop body))))))
                                case tag 3:
                                 (let
                                   (body =a (field 1 flam)
                                    defs =a (field 0 flam))
                                   (before middle_end/flambda/ref_to_variables.ml(48):2429-2500
                                     (seq
                                       (after middle_end/flambda/ref_to_variables.ml(48):2429-2483
                                         (apply
                                           (field 14 (global Stdlib__list!))
                                           (function param
                                             (funct-body middle_end/flambda/ref_to_variables.ml(48):2439-2478
                                               (let
                                                 (named =a (field 1 param))
                                                 (before middle_end/flambda/ref_to_variables.ml(48):2461-2477
                                                   (after middle_end/flambda/ref_to_variables.ml(48):2461-2477
                                                     (apply loop_named named))))))
                                           defs))
                                       (before middle_end/flambda/ref_to_variables.ml(49):2491-2500
                                         (after middle_end/flambda/ref_to_variables.ml(49):2491-2500
                                           (apply loop body))))))
                                case tag 7:
                                 (let
                                   (ifnot =a (field 2 flam)
                                    ifso =a (field 1 flam)
                                    cond =a (field 0 flam))
                                   (before middle_end/flambda/ref_to_variables.ml(56):2704-2772
                                     (seq
                                       (setfield_ptr 0 set
                                         (after middle_end/flambda/ref_to_variables.ml(56):2711-2737
                                           (apply
                                             (field 3
                                               (field 6 (global Variable!)))
                                             cond (field 0 set))))
                                       (before middle_end/flambda/ref_to_variables.ml(57):2745-2772
                                         (seq
                                           (after middle_end/flambda/ref_to_variables.ml(57):2745-2754
                                             (apply loop ifso))
                                           (before middle_end/flambda/ref_to_variables.ml(58):2762-2772
                                             (after middle_end/flambda/ref_to_variables.ml(58):2762-2772
                                               (apply loop ifnot))))))))
                                case tag 8:
                                 (let
                                   (*match* =a (field 1 flam)
                                    failaction =a (field 4 *match*)
                                    blocks =a (field 3 *match*)
                                    consts =a (field 1 *match*)
                                    cond =a (field 0 flam))
                                   (before middle_end/flambda/ref_to_variables.ml(60):2834-3016
                                     (seq
                                       (setfield_ptr 0 set
                                         (after middle_end/flambda/ref_to_variables.ml(60):2841-2867
                                           (apply
                                             (field 3
                                               (field 6 (global Variable!)))
                                             cond (field 0 set))))
                                       (before middle_end/flambda/ref_to_variables.ml(61):2875-3016
                                         (seq
                                           (after middle_end/flambda/ref_to_variables.ml(61):2875-2924
                                             (apply
                                               (field 14
                                                 (global Stdlib__list!))
                                               (function param
                                                 (funct-body middle_end/flambda/ref_to_variables.ml(61):2885-2917
                                                   (let
                                                     (branch =a
                                                        (field 1 param))
                                                     (before middle_end/flambda/ref_to_variables.ml(61):2905-2916
                                                       (after middle_end/flambda/ref_to_variables.ml(61):2905-2916
                                                         (apply loop branch))))))
                                               consts))
                                           (before middle_end/flambda/ref_to_variables.ml(62):2932-3016
                                             (seq
                                               (after middle_end/flambda/ref_to_variables.ml(62):2932-2981
                                                 (apply
                                                   (field 14
                                                     (global Stdlib__list!))
                                                   (function param
                                                     (funct-body middle_end/flambda/ref_to_variables.ml(62):2942-2974
                                                       (let
                                                         (branch =a
                                                            (field 1 param))
                                                         (before middle_end/flambda/ref_to_variables.ml(62):2962-2973
                                                           (after middle_end/flambda/ref_to_variables.ml(62):2962-2973
                                                             (apply loop
                                                               branch))))))
                                                   blocks))
                                               (before middle_end/flambda/ref_to_variables.ml(63):2989-3016
                                                 (after middle_end/flambda/ref_to_variables.ml(63):2989-3016
                                                   (apply
                                                     (field 8
                                                       (global Stdlib__option!))
                                                     loop failaction))))))))))
                                case tag 9:
                                 (let
                                   (default =a (field 2 flam)
                                    branches =a (field 1 flam)
                                    cond =a (field 0 flam))
                                   (before middle_end/flambda/ref_to_variables.ml(65):3072-3196
                                     (seq
                                       (setfield_ptr 0 set
                                         (after middle_end/flambda/ref_to_variables.ml(65):3079-3105
                                           (apply
                                             (field 3
                                               (field 6 (global Variable!)))
                                             cond (field 0 set))))
                                       (before middle_end/flambda/ref_to_variables.ml(66):3113-3196
                                         (seq
                                           (after middle_end/flambda/ref_to_variables.ml(66):3113-3164
                                             (apply
                                               (field 14
                                                 (global Stdlib__list!))
                                               (function param
                                                 (funct-body middle_end/flambda/ref_to_variables.ml(66):3123-3155
                                                   (let
                                                     (branch =a
                                                        (field 1 param))
                                                     (before middle_end/flambda/ref_to_variables.ml(66):3143-3154
                                                       (after middle_end/flambda/ref_to_variables.ml(66):3143-3154
                                                         (apply loop branch))))))
                                               branches))
                                           (before middle_end/flambda/ref_to_variables.ml(67):3172-3196
                                             (after middle_end/flambda/ref_to_variables.ml(67):3172-3196
                                               (apply
                                                 (field 8
                                                   (global Stdlib__option!))
                                                 loop default))))))))
                                case tag 10:
                                 (let (args =a (field 1 flam))
                                   (before middle_end/flambda/ref_to_variables.ml(82):3632-3690
                                     (setfield_ptr 0 set
                                       (after middle_end/flambda/ref_to_variables.ml(82):3639-3690
                                         (apply
                                           (field 6
                                             (field 6 (global Variable!)))
                                           (after middle_end/flambda/ref_to_variables.ml(82):3658-3685
                                             (apply
                                               (field 41
                                                 (field 6 (global Variable!)))
                                               args))
                                           (field 0 set))))))
                                case tag 11:
                                 (let
                                   (handler =a (field 3 flam)
                                    body =a (field 2 flam))
                                   (before middle_end/flambda/ref_to_variables.ml(69):3247-3276
                                     (seq
                                       (after middle_end/flambda/ref_to_variables.ml(69):3247-3256
                                         (apply loop body))
                                       (before middle_end/flambda/ref_to_variables.ml(70):3264-3276
                                         (after middle_end/flambda/ref_to_variables.ml(70):3264-3276
                                           (apply loop handler))))))
                                case tag 12:
                                 (let
                                   (handler =a (field 2 flam)
                                    body =a (field 0 flam))
                                   (before middle_end/flambda/ref_to_variables.ml(72):3320-3349
                                     (seq
                                       (after middle_end/flambda/ref_to_variables.ml(72):3320-3329
                                         (apply loop body))
                                       (before middle_end/flambda/ref_to_variables.ml(73):3337-3349
                                         (after middle_end/flambda/ref_to_variables.ml(73):3337-3349
                                           (apply loop handler))))))
                                case tag 13:
                                 (let
                                   (body =a (field 1 flam)
                                    cond =a (field 0 flam))
                                   (before middle_end/flambda/ref_to_variables.ml(75):3384-3410
                                     (seq
                                       (after middle_end/flambda/ref_to_variables.ml(75):3384-3393
                                         (apply loop cond))
                                       (before middle_end/flambda/ref_to_variables.ml(76):3401-3410
                                         (after middle_end/flambda/ref_to_variables.ml(76):3401-3410
                                           (apply loop body))))))
                                case tag 14:
                                 (let
                                   (*match* =a (field 0 flam)
                                    body =a (field 4 *match*)
                                    to_value =a (field 2 *match*)
                                    from_value =a (field 1 *match*))
                                   (before middle_end/flambda/ref_to_variables.ml(78):3492-3593
                                     (seq
                                       (setfield_ptr 0 set
                                         (after middle_end/flambda/ref_to_variables.ml(78):3499-3531
                                           (apply
                                             (field 3
                                               (field 6 (global Variable!)))
                                             from_value (field 0 set))))
                                       (before middle_end/flambda/ref_to_variables.ml(79):3539-3593
                                         (seq
                                           (setfield_ptr 0 set
                                             (after middle_end/flambda/ref_to_variables.ml(79):3546-3576
                                               (apply
                                                 (field 3
                                                   (field 6
                                                     (global Variable!)))
                                                 to_value (field 0 set))))
                                           (before middle_end/flambda/ref_to_variables.ml(80):3584-3593
                                             (after middle_end/flambda/ref_to_variables.ml(80):3584-3593
                                               (apply loop body))))))))
                                default: (exit 5))
                              with (5)
                               (before middle_end/flambda/ref_to_variables.ml(84):3755-3815
                                 (setfield_ptr 0 set
                                   (after middle_end/flambda/ref_to_variables.ml(84):3762-3815
                                     (apply
                                       (field 6 (field 6 (global Variable!)))
                                       (field 0 set)
                                       (after middle_end/flambda/ref_to_variables.ml(84):3786-3815
                                         (apply (field 1 (global Flambda!))
                                           0a 0a 0a flam)))))))))))
                   (before middle_end/flambda/ref_to_variables.ml(86):3823-3840
                     (seq
                       (after middle_end/flambda/ref_to_variables.ml(86):3823-3832
                         (apply loop tree))
                       (before middle_end/flambda/ref_to_variables.ml(87):3836-3840
                         (field 0 set))))))))))
     variables_containing_ref =
       (function flam
         (funct-body middle_end/flambda/ref_to_variables.ml(89)<ghost>:3871-4216
           (before middle_end/flambda/ref_to_variables.ml(90):3892-4216
             (let
               (map = (makemutable 0 (field 0 (field 7 (global Variable!)))))
               (before middle_end/flambda/ref_to_variables.ml(91):3930-4216
                 (let
                   (aux =
                      (function flam
                        (funct-body middle_end/flambda/ref_to_variables.ml(91)<ghost>:3938-4155
                          (before middle_end/flambda/ref_to_variables.ml(92):3963-4155
                            (catch
                              (switch flam
                               case tag 1:
                                (let
                                  (*match* =a (field 0 flam)
                                   *match* =a (field 1 *match*))
                                  (switch *match*
                                   case tag 9:
                                    (let (*match* =a (field 0 *match*))
                                      (switch *match*
                                       case tag 1:
                                        (let (*match* =a (field 0 *match*))
                                          (if (!= *match* 0) (exit 6)
                                            (let
                                              (*match* =a (field 1 *match*))
                                              (if *match*
                                                (let
                                                  (l =a (field 1 *match*)
                                                   var =a (field 0 *match*))
                                                  (before middle_end/flambda/ref_to_variables.ml(96):4093-4141
                                                    (setfield_ptr 0 map
                                                      (after middle_end/flambda/ref_to_variables.ml(96):4100-4141
                                                        (apply
                                                          (field 3
                                                            (field 7
                                                              (global Variable!)))
                                                          var
                                                          (after middle_end/flambda/ref_to_variables.ml(96):4121-4136
                                                            (apply
                                                              (field 0
                                                                (global Stdlib__list!))
                                                              l))
                                                          (field 0 map))))))
                                                (exit 6)))))
                                       default: (exit 6)))
                                   default: (exit 6)))
                               default: (exit 6))
                             with (6)
                              (before middle_end/flambda/ref_to_variables.ml(97):4153-4155
                                0a))))))
                   (before middle_end/flambda/ref_to_variables.ml(99):4163-4216
                     (seq
                       (after middle_end/flambda/ref_to_variables.ml(99):4163-4208
                         (apply (field 2 (global Flambda_iterators!)) aux
                           (function param
                             (funct-body middle_end/flambda/ref_to_variables.ml(99):4190-4203
                               (before middle_end/flambda/ref_to_variables.ml(99):4200-4202
                                 0a)))
                           flam))
                       (before middle_end/flambda/ref_to_variables.ml(100):4212-4216
                         (field 0 map))))))))))
     eliminate_ref_of_expr =
       (function flam
         (funct-body middle_end/flambda/ref_to_variables.ml(102)<ghost>:4244-7956
           (before middle_end/flambda/ref_to_variables.ml(103):4253-7956
             (let
               (variables_not_used_as_local_reference =
                  (after middle_end/flambda/ref_to_variables.ml(104):4301-4343
                    (apply variables_not_used_as_local_reference flam)))
               (before middle_end/flambda/ref_to_variables.ml(106):4351-7956
                 (let
                   (convertible_variables =
                      (after middle_end/flambda/ref_to_variables.ml(107):4383-4530
                        (apply (field 15 (field 7 (global Variable!)))
                          (function v param[int]
                            (funct-body middle_end/flambda/ref_to_variables.ml(108):4409-4492
                              (before middle_end/flambda/ref_to_variables.ml(109):4429-4491
                                (not
                                  (after middle_end/flambda/ref_to_variables.ml(109):4433-4491
                                    (apply
                                      (field 2 (field 6 (global Variable!)))
                                      v
                                      variables_not_used_as_local_reference))))))
                          (after middle_end/flambda/ref_to_variables.ml(110):4499-4530
                            (apply variables_containing_ref flam)))))
                   (before middle_end/flambda/ref_to_variables.ml(112):4538-7956
                     (if
                       (after middle_end/flambda/ref_to_variables.ml(112):4541-4588
                         (apply
                           (field 0
                             (global Int_replace_polymorphic_compare!))
                           (after middle_end/flambda/ref_to_variables.ml(112):4541-4584
                             (apply (field 17 (field 7 (global Variable!)))
                               convertible_variables))
                           0))
                       (before middle_end/flambda/ref_to_variables.ml(112):4594-4598
                         flam)
                       (before middle_end/flambda/ref_to_variables.ml(114):4610-7956
                         (let
                           (convertible_variables =
                              (after middle_end/flambda/ref_to_variables.ml(115):4644-4784
                                (apply
                                  (field 33 (field 7 (global Variable!)))
                                  (function v size[int]
                                    (funct-body middle_end/flambda/ref_to_variables.ml(115):4662-4754
                                      (before middle_end/flambda/ref_to_variables.ml(116):4687-4753
                                        (after middle_end/flambda/ref_to_variables.ml(116):4687-4753
                                          (apply
                                            (field 1 (global Stdlib__array!))
                                            size
                                            (function param[int]
                                              (funct-body middle_end/flambda/ref_to_variables.ml(116):4703-4753
                                                (before middle_end/flambda/ref_to_variables.ml(116):4713-4752
                                                  (after middle_end/flambda/ref_to_variables.ml(116):4713-4752
                                                    (apply
                                                      (field 11
                                                        (global Mutable_variable!))
                                                      0a v))))))))))
                                  convertible_variables)))
                           (before middle_end/flambda/ref_to_variables.ml(119):4796-7956
                             (let
                               (convertible_variable =
                                  (function v
                                    (funct-body middle_end/flambda/ref_to_variables.ml(119)<ghost>:4821-4865
                                      (before middle_end/flambda/ref_to_variables.ml(119):4825-4865
                                        (after middle_end/flambda/ref_to_variables.ml(119):4825-4865
                                          (apply
                                            (field 2
                                              (field 7 (global Variable!)))
                                            v convertible_variables))))))
                               (before middle_end/flambda/ref_to_variables.ml(120):4873-7956
                                 (let
                                   (get_variable =
                                      (function v field[int]
                                        (funct-body middle_end/flambda/ref_to_variables.ml(120)<ghost>:4890-5166
                                          (before middle_end/flambda/ref_to_variables.ml(121):4906-5166
                                            (let
                                              (arr =
                                                 (try
                                                   (after middle_end/flambda/ref_to_variables.ml(121):4920-4961
                                                     (apply
                                                       (field 26
                                                         (field 7
                                                           (global Variable!)))
                                                       v
                                                       convertible_variables))
                                                  with exn
                                                   (if
                                                     (== exn
                                                       (field 7
                                                         (global Stdlib!)))
                                                     (before middle_end/flambda/ref_to_variables.ml(122):4988-5000
                                                       (raise
                                                         (after middle_end/flambda/ref_to_variables.ml(122):4988-5000
                                                           (makeblock 0
                                                             (global Assert_failure!)
                                                             [0:
                                                              "middle_end/flambda/ref_to_variables.ml"
                                                              122 26]))))
                                                     (reraise exn))))
                                              (before middle_end/flambda/ref_to_variables.ml(123):5010-5166
                                                (if
                                                  (after middle_end/flambda/ref_to_variables.ml(123):5013-5038
                                                    (apply
                                                      (field 4
                                                        (global Int_replace_polymorphic_compare!))
                                                      (array.length[gen] arr)
                                                      field))
                                                  (before middle_end/flambda/ref_to_variables.ml(124):5050-5054
                                                    0a)
                                                  (before middle_end/flambda/ref_to_variables.ml(125):5130-5166
                                                    (makeblock 0
                                                      (makeblock 0 (*,int)
                                                        (after middle_end/flambda/ref_to_variables.ml(125):5136-5147
                                                          (array.get[gen] arr
                                                            field))
                                                        (array.length[gen]
                                                          arr)))))))))))
                                   (before middle_end/flambda/ref_to_variables.ml(127):5178-7956
                                     (let
                                       (aux =
                                          (function flam
                                            (funct-body middle_end/flambda/ref_to_variables.ml(127)<ghost>:5186-6276
                                              (before middle_end/flambda/ref_to_variables.ml(128):5225-6276
                                                (catch
                                                  (switch flam
                                                   case tag 1:
                                                    (let
                                                      (*match* =a
                                                         (field 0 flam)
                                                       var =a
                                                         (field 0 *match*))
                                                      (catch
                                                        (let
                                                          (*match* =a
                                                             (field 1
                                                               *match*))
                                                          (switch *match*
                                                           case tag 9:
                                                            (let
                                                              (*match* =a
                                                                 (field 0
                                                                   *match*))
                                                              (switch *match*
                                                               case tag 1:
                                                                (let
                                                                  (*match* =a
                                                                    (field 0
                                                                    *match*))
                                                                  (if
                                                                    (!=
                                                                    *match*
                                                                    0)
                                                                    (exit 11)
                                                                    (let
                                                                    (*match* =a
                                                                    (field 1
                                                                    *match*))
                                                                    (if
                                                                    *match*
                                                                    (let
                                                                    (body =a
                                                                    (field 2
                                                                    *match*)
                                                                    l =a
                                                                    (field 1
                                                                    *match*)
                                                                    shape =a
                                                                    (field 2
                                                                    *match*))
                                                                    (before middle_end/flambda/ref_to_variables.ml(132):5375-5399
                                                                    (if
                                                                    (after middle_end/flambda/ref_to_variables.ml(132):5375-5399
                                                                    (apply
                                                                    convertible_variable
                                                                    var))
                                                                    (before middle_end/flambda/ref_to_variables.ml(133):5411-6018
                                                                    (let
                                                                    (shape =
                                                                    (if shape
                                                                    (let
                                                                    (shape =a
                                                                    (field 0
                                                                    shape))
                                                                    (before middle_end/flambda/ref_to_variables.ml(135):5523-5528
                                                                    shape))
                                                                    (before middle_end/flambda/ref_to_variables.ml(134):5460-5496
                                                                    (after middle_end/flambda/ref_to_variables.ml(134):5460-5496
                                                                    (apply
                                                                    (field 16
                                                                    (global Stdlib__list!))
                                                                    (function
                                                                    param
                                                                    (funct-body middle_end/flambda/ref_to_variables.ml(134):5469-5494
                                                                    (before middle_end/flambda/ref_to_variables.ml(134):5479-5493
                                                                    0a))) l)))))
                                                                    (before middle_end/flambda/ref_to_variables.ml(137):5548-6018
                                                                    (let
                                                                    (*match* =
                                                                    (after middle_end/flambda/ref_to_variables.ml(138):5572-6002
                                                                    (apply
                                                                    (field 25
                                                                    (global Stdlib__list!))
                                                                    (function
                                                                    param
                                                                    init kind
                                                                    (funct-body middle_end/flambda/ref_to_variables.ml(138):5588-5973
                                                                    (let
                                                                    (body =a
                                                                    (field 1
                                                                    param)
                                                                    field =a
                                                                    (field 0
                                                                    param))
                                                                    (before middle_end/flambda/ref_to_variables.ml(139):5633-5972
                                                                    (let
                                                                    (*match* =
                                                                    (after middle_end/flambda/ref_to_variables.ml(139):5639-5661
                                                                    (apply
                                                                    get_variable
                                                                    var
                                                                    field)))
                                                                    (if
                                                                    *match*
                                                                    (let
                                                                    (*match* =a
                                                                    (field 0
                                                                    *match*)
                                                                    field_var =a
                                                                    (field 0
                                                                    *match*))
                                                                    (before middle_end/flambda/ref_to_variables.ml(142):5759-5972
                                                                    (makeblock 0 (int,*)
                                                                    (+ field
                                                                    1)
                                                                    (makeblock 2
                                                                    (makeblock 0
                                                                    field_var
                                                                    init kind
                                                                    body)))))
                                                                    (before middle_end/flambda/ref_to_variables.ml(140):5691-5703
                                                                    (raise
                                                                    (after middle_end/flambda/ref_to_variables.ml(140):5691-5703
                                                                    (makeblock 0
                                                                    (global Assert_failure!)
                                                                    [0:
                                                                    "middle_end/flambda/ref_to_variables.ml"
                                                                    140 24]))))))))))
                                                                    (makeblock 0 (int,*)
                                                                    0 body) l
                                                                    shape))
                                                                    expr =a
                                                                    (field 1
                                                                    *match*))
                                                                    (before middle_end/flambda/ref_to_variables.ml(148):6014-6018
                                                                    expr)))))
                                                                    (exit 11))))
                                                                    (exit 11)))))
                                                               default:
                                                                (exit 11)))
                                                           default: (exit 11)))
                                                       with (11) (exit 10)))
                                                   default: (exit 10))
                                                 with (10)
                                                  (before middle_end/flambda/ref_to_variables.ml(155):6272-6276
                                                    flam)))))
                                        aux_named =
                                          (function named
                                            (funct-body middle_end/flambda/ref_to_variables.ml(156)<ghost>:6295-7904
                                              (before middle_end/flambda/ref_to_variables.ml(157):6343-7904
                                                (catch
                                                  (switch named
                                                   case tag 9:
                                                    (let
                                                      (*match* =a
                                                         (field 0 named))
                                                      (catch
                                                        (switch *match*
                                                         case tag 2:
                                                          (let
                                                            (*match* =a
                                                               (field 1
                                                                 named))
                                                            (if *match*
                                                              (let
                                                                (*match* =a
                                                                   (field 1
                                                                    *match*))
                                                                (if *match*
                                                                  (exit 13)
                                                                  (let
                                                                    (v =a
                                                                    (field 0
                                                                    *match*)
                                                                    field =a
                                                                    (field 0
                                                                    *match*))
                                                                    (before middle_end/flambda/ref_to_variables.ml(159):6408-6430
                                                                    (if
                                                                    (after middle_end/flambda/ref_to_variables.ml(159):6408-6430
                                                                    (apply
                                                                    convertible_variable
                                                                    v))
                                                                    (before middle_end/flambda/ref_to_variables.ml(160):6442-6562
                                                                    (let
                                                                    (*match* =
                                                                    (after middle_end/flambda/ref_to_variables.ml(160):6449-6469
                                                                    (apply
                                                                    get_variable
                                                                    v field)))
                                                                    (if
                                                                    *match*
                                                                    (let
                                                                    (*match* =a
                                                                    (field 0
                                                                    *match*)
                                                                    var =a
                                                                    (field 0
                                                                    *match*))
                                                                    (before middle_end/flambda/ref_to_variables.ml(162):6545-6561
                                                                    (makeblock 3
                                                                    var)))
                                                                    (before middle_end/flambda/ref_to_variables.ml(161):6494-6517
                                                                    [10: 0a]))))
                                                                    (exit 13))))))
                                                              (exit 13)))
                                                         case tag 3:
                                                          (let
                                                            (*match* =a
                                                               (field 1
                                                                 named))
                                                            (if *match*
                                                              (let
                                                                (*match* =a
                                                                   (field 1
                                                                    *match*))
                                                                (if *match*
                                                                  (let
                                                                    (*match* =a
                                                                    (field 1
                                                                    *match*))
                                                                    (if
                                                                    *match*
                                                                    (exit 13)
                                                                    (let
                                                                    (new_value =a
                                                                    (field 0
                                                                    *match*)
                                                                    v =a
                                                                    (field 0
                                                                    *match*)
                                                                    field =a
                                                                    (field 0
                                                                    *match*))
                                                                    (before middle_end/flambda/ref_to_variables.ml(185):7480-7502
                                                                    (if
                                                                    (after middle_end/flambda/ref_to_variables.ml(185):7480-7502
                                                                    (apply
                                                                    convertible_variable
                                                                    v))
                                                                    (before middle_end/flambda/ref_to_variables.ml(186):7514-7683
                                                                    (let
                                                                    (*match* =
                                                                    (after middle_end/flambda/ref_to_variables.ml(186):7521-7541
                                                                    (apply
                                                                    get_variable
                                                                    v field)))
                                                                    (if
                                                                    *match*
                                                                    (let
                                                                    (*match* =a
                                                                    (field 0
                                                                    *match*)
                                                                    being_assigned =a
                                                                    (field 0
                                                                    *match*))
                                                                    (before middle_end/flambda/ref_to_variables.ml(189):7639-7682
                                                                    (makeblock 10
                                                                    (makeblock 6
                                                                    (makeblock 0
                                                                    being_assigned
                                                                    new_value)))))
                                                                    (before middle_end/flambda/ref_to_variables.ml(187):7566-7589
                                                                    [10: 0a]))))
                                                                    (exit 13))))))
                                                                  (exit 13)))
                                                              (exit 13)))
                                                         case tag 14:
                                                          (let
                                                            (*match* =a
                                                               (field 1
                                                                 named))
                                                            (if *match*
                                                              (let
                                                                (*match* =a
                                                                   (field 1
                                                                    *match*))
                                                                (if *match*
                                                                  (exit 13)
                                                                  (let
                                                                    (dbg =a
                                                                    (field 2
                                                                    named)
                                                                    v =a
                                                                    (field 0
                                                                    *match*)
                                                                    delta =a
                                                                    (field 0
                                                                    *match*))
                                                                    (before middle_end/flambda/ref_to_variables.ml(164):6617-6639
                                                                    (if
                                                                    (after middle_end/flambda/ref_to_variables.ml(164):6617-6639
                                                                    (apply
                                                                    convertible_variable
                                                                    v))
                                                                    (before middle_end/flambda/ref_to_variables.ml(165):6651-7409
                                                                    (let
                                                                    (*match* =
                                                                    (after middle_end/flambda/ref_to_variables.ml(165):6658-6674
                                                                    (apply
                                                                    get_variable
                                                                    v 0)))
                                                                    (if
                                                                    *match*
                                                                    (let
                                                                    (*match* =a
                                                                    (field 0
                                                                    *match*)
                                                                    size =a
                                                                    (field 1
                                                                    *match*)
                                                                    var =a
                                                                    (field 0
                                                                    *match*))
                                                                    (before middle_end/flambda/ref_to_variables.ml(168):6764-7408
                                                                    (if
                                                                    (after middle_end/flambda/ref_to_variables.ml(168):6767-6775
                                                                    (apply
                                                                    (field 0
                                                                    (global Int_replace_polymorphic_compare!))
                                                                    size 1))
                                                                    (before middle_end/flambda/ref_to_variables.ml(169):6792-7355
                                                                    (let
                                                                    (mut_name =
                                                                    (field 55
                                                                    (global Internal_variable_names!)))
                                                                    (before middle_end/flambda/ref_to_variables.ml(171):6879-7340
                                                                    (let
                                                                    (mut =
                                                                    (after middle_end/flambda/ref_to_variables.ml(171):6889-6913
                                                                    (apply
                                                                    (field 9
                                                                    (global Variable!))
                                                                    0a
                                                                    mut_name)))
                                                                    (before middle_end/flambda/ref_to_variables.ml(172):6930-7340
                                                                    (let
                                                                    (new_value_name =
                                                                    (field 47
                                                                    (global Internal_variable_names!)))
                                                                    (before middle_end/flambda/ref_to_variables.ml(173):7001-7340
                                                                    (let
                                                                    (new_value =
                                                                    (after middle_end/flambda/ref_to_variables.ml(173):7017-7047
                                                                    (apply
                                                                    (field 9
                                                                    (global Variable!))
                                                                    0a
                                                                    new_value_name)))
                                                                    (before middle_end/flambda/ref_to_variables.ml(174):7064-7340
                                                                    (let
                                                                    (expr =
                                                                    (after middle_end/flambda/ref_to_variables.ml(175):7090-7301
                                                                    (apply
                                                                    (field 11
                                                                    (global Flambda!))
                                                                    mut
                                                                    (makeblock 3
                                                                    var)
                                                                    (after middle_end/flambda/ref_to_variables.ml(176):7149-7301
                                                                    (apply
                                                                    (field 11
                                                                    (global Flambda!))
                                                                    new_value
                                                                    (makeblock 9
                                                                    (makeblock 13 (int)
                                                                    delta)
                                                                    (makeblock 0
                                                                    mut 0a)
                                                                    dbg)
                                                                    (makeblock 6
                                                                    (makeblock 0
                                                                    var
                                                                    new_value)))))))
                                                                    (before middle_end/flambda/ref_to_variables.ml(180):7331-7340
                                                                    (makeblock 10
                                                                    expr))))))))))))
                                                                    (before middle_end/flambda/ref_to_variables.ml(183):7385-7408
                                                                    [10: 0a]))))
                                                                    (before middle_end/flambda/ref_to_variables.ml(166):6699-6722
                                                                    [10: 0a]))))
                                                                    (exit 13))))))
                                                              (exit 13)))
                                                         default: (exit 13))
                                                       with (13) (exit 12)))
                                                   default: (exit 12))
                                                 with (12)
                                                  (before middle_end/flambda/ref_to_variables.ml(193):7899-7904
                                                    named))))))
                                       (before middle_end/flambda/ref_to_variables.ml(195):7916-7956
                                         (after middle_end/flambda/ref_to_variables.ml(195):7916-7956
                                           (apply
                                             (field 17
                                               (global Flambda_iterators!))
                                             aux aux_named flam)))))))))))))))))))
     eliminate_ref =
       (function program
         (funct-body middle_end/flambda/ref_to_variables.ml(197)<ghost>:7976-8093
           (before middle_end/flambda/ref_to_variables.ml(198):8006-8093
             (after middle_end/flambda/ref_to_variables.ml(198):8006-8093
               (apply (field 32 (global Flambda_iterators!)) program
                 eliminate_ref_of_expr))))))
    (pseudo _none_(0)<ghost>:-1--1 (makeblock 0 eliminate_ref))))
