(setglobal Inlining_decision!
  (let
    (get_function_body =
       (function function_decl
         (funct-body middle_end/flambda/inlining_decision.ml(28)<ghost>:1514-1662
           (before middle_end/flambda/inlining_decision.ml(29):1559-1662
             (let (*match* = (field 2 function_decl))
               (if *match*
                 (let (function_body =a (field 0 *match*))
                   (before middle_end/flambda/inlining_decision.ml(31):1649-1662
                     function_body))
                 (before middle_end/flambda/inlining_decision.ml(30):1610-1622
                   (raise
                     (after middle_end/flambda/inlining_decision.ml(30):1610-1622
                       (makeblock 0 (global Assert_failure!)
                         [0: "middle_end/flambda/inlining_decision.ml" 30 12])))))))))
     inline =
       (function env r lhs_of_application closure_id_being_applied
         function_decl function_body value_set_of_closures
         only_use_of_function original recursive args size_from_approximation
         dbg simplify inline_requested specialise_requested fun_vars
         set_of_closures_origin self_call fun_cost inlining_threshold
         (funct-body middle_end/flambda/inlining_decision.ml(41)<ghost>:1820-12647
           (before middle_end/flambda/inlining_decision.ml(51):2296-12647
             (let
               (toplevel =
                  (after middle_end/flambda/inlining_decision.ml(51):2311-2328
                    (apply
                      (field 29 (field 0 (global Inline_and_simplify_aux!)))
                      env)))
               (before middle_end/flambda/inlining_decision.ml(52):2334-12647
                 (let
                   (branch_depth =[int]
                      (after middle_end/flambda/inlining_decision.ml(52):2353-2371
                        (apply
                          (field 31
                            (field 0 (global Inline_and_simplify_aux!)))
                          env)))
                   (before middle_end/flambda/inlining_decision.ml(53):2377-12647
                     (catch
                       (let
                         (unrolling =
                            (after middle_end/flambda/inlining_decision.ml(54):2447-2494
                              (apply
                                (field 42
                                  (field 0 (global Inline_and_simplify_aux!)))
                                env set_of_closures_origin)))
                         (before middle_end/flambda/inlining_decision.ml(55):2502-3547
                           (if unrolling
                             (let (count =a (field 0 unrolling))
                               (before middle_end/flambda/inlining_decision.ml(57):2549-2710
                                 (if
                                   (after middle_end/flambda/inlining_decision.ml(57):2552-2561
                                     (apply
                                       (field 3
                                         (global Int_replace_polymorphic_compare!))
                                       count 0))
                                   (before middle_end/flambda/inlining_decision.ml(58):2575-2675
                                     (let
                                       (env =
                                          (after middle_end/flambda/inlining_decision.ml(58):2585-2641
                                            (apply
                                              (field 44
                                                (field 0
                                                  (global Inline_and_simplify_aux!)))
                                              env set_of_closures_origin)))
                                       (before middle_end/flambda/inlining_decision.ml(59):2653-2675
                                         (let
                                           (env =a env
                                            never_inline = 0a
                                            always_inline = 1a
                                            unrolling = 1a)
                                           (exit 9 env never_inline
                                             always_inline unrolling)))))
                                   (before middle_end/flambda/inlining_decision.ml(60):2687-2710
                                     (let
                                       (env =a env
                                        never_inline = 1a
                                        always_inline = 0a
                                        unrolling = 0a)
                                       (exit 9 env never_inline always_inline
                                         unrolling))))))
                             (before middle_end/flambda/inlining_decision.ml(61):2725-3547
                               (let
                                 (inline_annotation =
                                    (catch
                                      (if (isint inline_requested)
                                        (if (>= inline_requested 2)
                                          (before middle_end/flambda/inlining_decision.ml(67):3054-3074
                                            (field 4 function_body))
                                          (exit 8))
                                        (exit 8))
                                     with (8)
                                      (before middle_end/flambda/inlining_decision.ml(66):3007-3023
                                        inline_requested)))
                                 (before middle_end/flambda/inlining_decision.ml(69):3094-3537
                                   (if (isint inline_annotation)
                                     (let
                                       (*match* =
                                          (switch* inline_annotation
                                           case int 0:
                                            (before middle_end/flambda/inlining_decision.ml(70):3150-3173
                                              (makeblock 0 0a 1a 0a env))
                                           case int 1:
                                            (before middle_end/flambda/inlining_decision.ml(71):3200-3223
                                              (makeblock 0 0a 0a 1a env))
                                           case int 2:
                                            (before middle_end/flambda/inlining_decision.ml(72):3252-3276
                                              (makeblock 0 0a 0a 0a env)))
                                        env =a (field 3 *match*)
                                        never_inline =a (field 2 *match*)
                                        always_inline =a (field 1 *match*)
                                        unrolling =a (field 0 *match*))
                                       (exit 9 env never_inline always_inline
                                         unrolling))
                                     (let
                                       (count =a (field 0 inline_annotation))
                                       (before middle_end/flambda/inlining_decision.ml(74):3313-3537
                                         (if
                                           (after middle_end/flambda/inlining_decision.ml(74):3316-3325
                                             (apply
                                               (field 3
                                                 (global Int_replace_polymorphic_compare!))
                                               count 0))
                                           (before middle_end/flambda/inlining_decision.ml(75):3343-3498
                                             (let
                                               (env =
                                                  (after middle_end/flambda/inlining_decision.ml(76):3367-3448
                                                    (apply
                                                      (field 43
                                                        (field 0
                                                          (global Inline_and_simplify_aux!)))
                                                      env
                                                      set_of_closures_origin
                                                      (- count 1))))
                                               (before middle_end/flambda/inlining_decision.ml(79):3476-3498
                                                 (let
                                                   (env =a env
                                                    never_inline = 0a
                                                    always_inline = 1a
                                                    unrolling = 1a)
                                                   (exit 9 env never_inline
                                                     always_inline unrolling)))))
                                           (before middle_end/flambda/inlining_decision.ml(80):3514-3537
                                             (let
                                               (env =a env
                                                never_inline = 1a
                                                always_inline = 0a
                                                unrolling = 0a)
                                               (exit 9 env never_inline
                                                 always_inline unrolling)))))))))))))
                      with (9 env never_inline always_inline unrolling)
                       (before middle_end/flambda/inlining_decision.ml(83):3555-12647
                         (let
                           (remaining_inlining_threshold =
                              (if always_inline
                                (before middle_end/flambda/inlining_decision.ml(84):3644-3662
                                  inlining_threshold)
                                (before middle_end/flambda/inlining_decision.ml(85):3672-3691
                                  (after middle_end/flambda/inlining_decision.ml(85):3672-3691
                                    (let
                                      (lzarg = fun_cost
                                       tag =a (caml_obj_tag lzarg))
                                      (if (== tag 250) (field 0 lzarg)
                                        (if (== tag 246)
                                          (apply
                                            (field 1
                                              (global CamlinternalLazy!))
                                            lzarg)
                                          lzarg)))))))
                           (before middle_end/flambda/inlining_decision.ml(87):3699-12647
                             (let
                               (try_inlining =
                                  (if unrolling
                                    (before middle_end/flambda/inlining_decision.ml(89):3746-3752
                                      0a)
                                    (before middle_end/flambda/inlining_decision.ml(90):3762-7483
                                      (if self_call
                                        (before middle_end/flambda/inlining_decision.ml(91):3786-3822
                                          [0: 4a])
                                        (before middle_end/flambda/inlining_decision.ml(92):3832-7483
                                          (if
                                            (not
                                              (after middle_end/flambda/inlining_decision.ml(92):3839-3892
                                                (apply
                                                  (field 47
                                                    (field 0
                                                      (global Inline_and_simplify_aux!)))
                                                  env
                                                  (field 0 function_decl))))
                                            (before middle_end/flambda/inlining_decision.ml(93):3904-3955
                                              [0: 3a])
                                            (before middle_end/flambda/inlining_decision.ml(94):3965-7483
                                              (if
                                                (|| only_use_of_function
                                                  always_inline)
                                                (before middle_end/flambda/inlining_decision.ml(95):4017-4023
                                                  0a)
                                                (before middle_end/flambda/inlining_decision.ml(96):4033-7483
                                                  (if never_inline
                                                    (before middle_end/flambda/inlining_decision.ml(97):4060-4097
                                                      [0: 1a])
                                                    (before middle_end/flambda/inlining_decision.ml(98):4107-7483
                                                      (if
                                                        (&&
                                                          (not
                                                            (after middle_end/flambda/inlining_decision.ml(98):4114-4162
                                                              (apply
                                                                (field 45
                                                                  (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                env
                                                                set_of_closures_origin)))
                                                          (after middle_end/flambda/inlining_decision.ml(99):4175-4197
                                                            (let
                                                              (lzarg =
                                                                 recursive
                                                               tag =a
                                                                 (caml_obj_tag
                                                                   lzarg))
                                                              (if
                                                                (== tag 250)
                                                                (field 0
                                                                  lzarg)
                                                                (if
                                                                  (== tag
                                                                    246)
                                                                  (apply
                                                                    (field 1
                                                                    (global CamlinternalLazy!))
                                                                    lzarg)
                                                                  lzarg)))))
                                                        (before middle_end/flambda/inlining_decision.ml(100):4209-4260
                                                          [0: 3a])
                                                        (before middle_end/flambda/inlining_decision.ml(101):4270-7483
                                                          (if
                                                            (after middle_end/flambda/inlining_decision.ml(101):4273-4324
                                                              (apply
                                                                (field 3
                                                                  (field 0
                                                                    (global Inlining_cost!)))
                                                                remaining_inlining_threshold
                                                                0a))
                                                            (before middle_end/flambda/inlining_decision.ml(102):4336-4564
                                                              (let
                                                                (threshold =[int]
                                                                   (if
                                                                    inlining_threshold
                                                                    (let
                                                                    (threshold =a
                                                                    (field 0
                                                                    inlining_threshold))
                                                                    (before middle_end/flambda/inlining_decision.ml(105):4485-4494
                                                                    threshold))
                                                                    (before middle_end/flambda/inlining_decision.ml(104):4418-4430
                                                                    (raise
                                                                    (after middle_end/flambda/inlining_decision.ml(104):4418-4430
                                                                    (makeblock 0
                                                                    (global Assert_failure!)
                                                                    [0:
                                                                    "middle_end/flambda/inlining_decision.ml"
                                                                    104 28]))))))
                                                                (before middle_end/flambda/inlining_decision.ml(107):4510-4564
                                                                  (makeblock 0
                                                                    (makeblock 0 (int)
                                                                    threshold)))))
                                                            (before middle_end/flambda/inlining_decision.ml(108):4574-7483
                                                              (if
                                                                (&&
                                                                  (not
                                                                    (&&
                                                                    toplevel
                                                                    (after middle_end/flambda/inlining_decision.ml(108):4594-4610
                                                                    (apply
                                                                    (field 0
                                                                    (global Int_replace_polymorphic_compare!))
                                                                    branch_depth
                                                                    0))))
                                                                  (after middle_end/flambda/inlining_decision.ml(109):4624-4667
                                                                    (apply
                                                                    (field 48
                                                                    (global Simple_value_approx!))
                                                                    (after middle_end/flambda/inlining_decision.ml(109):4641-4667
                                                                    (apply
                                                                    (field 12
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env args)))))
                                                                (before middle_end/flambda/inlining_decision.ml(137):5722-7379
                                                                  (if
                                                                    size_from_approximation
                                                                    (let
                                                                    (body_size =a
                                                                    (field 0
                                                                    size_from_approximation))
                                                                    (before middle_end/flambda/inlining_decision.ml(139):5791-6969
                                                                    (let
                                                                    (wsb =
                                                                    (let
                                                                    (benefit =
                                                                    (field 0
                                                                    (field 3
                                                                    (global Inlining_cost!))))
                                                                    (before middle_end/flambda/inlining_decision.ml(141):5865-6813
                                                                    (let
                                                                    (benefit =
                                                                    (after middle_end/flambda/inlining_decision.ml(141):5879-5920
                                                                    (apply
                                                                    (field 3
                                                                    (field 3
                                                                    (global Inlining_cost!)))
                                                                    benefit)))
                                                                    (before middle_end/flambda/inlining_decision.ml(142):5934-6813
                                                                    (let
                                                                    (benefit =
                                                                    (after middle_end/flambda/inlining_decision.ml(143):5960-6489
                                                                    (apply
                                                                    (field 14
                                                                    (field 6
                                                                    (global Variable!)))
                                                                    (function
                                                                    v acc
                                                                    (funct-body middle_end/flambda/inlining_decision.ml(143):5978-6438
                                                                    (before middle_end/flambda/inlining_decision.ml(144):6008-6437
                                                                    (try
                                                                    (let
                                                                    (t =
                                                                    (after middle_end/flambda/inlining_decision.ml(146):6058-6170
                                                                    (apply
                                                                    (field 26
                                                                    (field 7
                                                                    (global Var_within_closure!)))
                                                                    (after middle_end/flambda/inlining_decision.ml(146):6086-6113
                                                                    (apply
                                                                    (field 9
                                                                    (global Var_within_closure!))
                                                                    v))
                                                                    (field 1
                                                                    value_set_of_closures))))
                                                                    (before middle_end/flambda/inlining_decision.ml(149):6210-6399
                                                                    (let
                                                                    (*match* =
                                                                    (field 1
                                                                    t))
                                                                    (if
                                                                    *match*
                                                                    (let
                                                                    (v =a
                                                                    (field 0
                                                                    *match*))
                                                                    (before middle_end/flambda/inlining_decision.ml(151):6279-6367
                                                                    (if
                                                                    (after middle_end/flambda/inlining_decision.ml(151):6282-6295
                                                                    (apply
                                                                    (field 23
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env v))
                                                                    (before middle_end/flambda/inlining_decision.ml(151):6301-6338
                                                                    (after middle_end/flambda/inlining_decision.ml(151):6301-6338
                                                                    (apply
                                                                    (field 5
                                                                    (field 3
                                                                    (global Inlining_cost!)))
                                                                    acc)))
                                                                    (before middle_end/flambda/inlining_decision.ml(152):6364-6367
                                                                    acc))))
                                                                    (before middle_end/flambda/inlining_decision.ml(153):6396-6399
                                                                    acc)))))
                                                                    with exn
                                                                    (if
                                                                    (== exn
                                                                    (field 7
                                                                    (global Stdlib!)))
                                                                    (before middle_end/flambda/inlining_decision.ml(154):6434-6437
                                                                    acc)
                                                                    (reraise
                                                                    exn))))))
                                                                    (field 0
                                                                    function_body)
                                                                    benefit)))
                                                                    (before middle_end/flambda/inlining_decision.ml(157):6513-6813
                                                                    (after middle_end/flambda/inlining_decision.ml(157):6513-6813
                                                                    (apply
                                                                    (field 1
                                                                    (field 4
                                                                    (global Inlining_cost!)))
                                                                    (field 7
                                                                    (global Inlining_cost!))
                                                                    (after middle_end/flambda/inlining_decision.ml(160):6643-6662
                                                                    (apply
                                                                    (field 29
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env))
                                                                    (after middle_end/flambda/inlining_decision.ml(161):6689-6709
                                                                    (apply
                                                                    (field 31
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env))
                                                                    body_size
                                                                    benefit
                                                                    (field 6
                                                                    function_body)
                                                                    (after middle_end/flambda/inlining_decision.ml(163):6779-6792
                                                                    (apply
                                                                    (field 3
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))))))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(166):6833-6969
                                                                    (if
                                                                    (not
                                                                    (after middle_end/flambda/inlining_decision.ml(166):6841-6857
                                                                    (apply
                                                                    (field 2
                                                                    (field 4
                                                                    (global Inlining_cost!)))
                                                                    wsb)))
                                                                    (before middle_end/flambda/inlining_decision.ml(166):6864-6957
                                                                    (makeblock 0
                                                                    (makeblock 1
                                                                    wsb)))
                                                                    (before middle_end/flambda/inlining_decision.ml(169):6963-6969
                                                                    0a))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(176):7328-7379
                                                                    [0: 2a])))
                                                                (before middle_end/flambda/inlining_decision.ml(177):7389-7483
                                                                  0a)))))))))))))))))
                               (before middle_end/flambda/inlining_decision.ml(182):7491-12647
                                 (if try_inlining
                                   (let (decision =a (field 0 try_inlining))
                                     (before middle_end/flambda/inlining_decision.ml(183):7544-7561
                                       (makeblock 1 decision)))
                                   (before middle_end/flambda/inlining_decision.ml(185):7580-12647
                                     (let
                                       (r =
                                          (after middle_end/flambda/inlining_decision.ml(186):7594-7656
                                            (apply
                                              (field 11
                                                (field 1
                                                  (global Inline_and_simplify_aux!)))
                                              r
                                              (makeblock 0
                                                remaining_inlining_threshold))))
                                       (before middle_end/flambda/inlining_decision.ml(188):7668-12647
                                         (let
                                           (*match* =
                                              (after middle_end/flambda/inlining_decision.ml(192):7873-8123
                                                (apply
                                                  (field 0
                                                    (global Inlining_transforms!))
                                                  env
                                                  (after middle_end/flambda/inlining_decision.ml(193):7941-7960
                                                    (apply
                                                      (field 10
                                                        (field 1
                                                          (global Inline_and_simplify_aux!)))
                                                      r))
                                                  lhs_of_application
                                                  inline_requested
                                                  specialise_requested
                                                  closure_id_being_applied
                                                  function_decl function_body
                                                  fun_vars args dbg simplify))
                                            r_inlined =a (field 1 *match*)
                                            body =a (field 0 *match*))
                                           (before middle_end/flambda/inlining_decision.ml(197):8135-12647
                                             (let
                                               (num_direct_applications_seen =[int]
                                                  (-
                                                    (after middle_end/flambda/inlining_decision.ml(198):8176-8213
                                                      (apply
                                                        (field 16
                                                          (field 1
                                                            (global Inline_and_simplify_aux!)))
                                                        r_inlined))
                                                    (after middle_end/flambda/inlining_decision.ml(198):8216-8245
                                                      (apply
                                                        (field 16
                                                          (field 1
                                                            (global Inline_and_simplify_aux!)))
                                                        r))))
                                               (before middle_end/flambda/inlining_decision.ml(200):8257-12647
                                                 (seq
                                                   (if
                                                     (after middle_end/flambda/inlining_decision.ml(200):8264-8299
                                                       (apply
                                                         (field 5
                                                           (global Int_replace_polymorphic_compare!))
                                                         num_direct_applications_seen
                                                         0))
                                                     0a
                                                     (raise
                                                       (after middle_end/flambda/inlining_decision.ml(200):8257-8299
                                                         (makeblock 0
                                                           (global Assert_failure!)
                                                           [0:
                                                            "middle_end/flambda/inlining_decision.ml"
                                                            200 4]))))
                                                   (before middle_end/flambda/inlining_decision.ml(201):8305-12647
                                                     (let
                                                       (keep_inlined_version =
                                                          (function decision
                                                            (funct-body middle_end/flambda/inlining_decision.ml(201)<ghost>:8330-9958
                                                              (before middle_end/flambda/inlining_decision.ml(205):8565-9958
                                                                (let
                                                                  (r_inlined =
                                                                    (if
                                                                    always_inline
                                                                    (before middle_end/flambda/inlining_decision.ml(211):8921-9080
                                                                    (after middle_end/flambda/inlining_decision.ml(211):8921-9080
                                                                    (apply
                                                                    (field 8
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r_inlined
                                                                    (after middle_end/flambda/inlining_decision.ml(212):8957-9080
                                                                    (apply
                                                                    (field 2
                                                                    (field 3
                                                                    (global Inlining_cost!)))
                                                                    (after middle_end/flambda/inlining_decision.ml(212):8991-9004
                                                                    (apply
                                                                    (field 3
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env))
                                                                    (after middle_end/flambda/inlining_decision.ml(213):9043-9078
                                                                    (apply
                                                                    (field 9
                                                                    (field 3
                                                                    (global Inlining_cost!)))
                                                                    (field 0
                                                                    (field 3
                                                                    (global Inlining_cost!)))
                                                                    body)))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(214):9094-9103
                                                                    r_inlined)))
                                                                  (before middle_end/flambda/inlining_decision.ml(216):9119-9958
                                                                    (let
                                                                    (r =
                                                                    (after middle_end/flambda/inlining_decision.ml(217):9135-9200
                                                                    (apply
                                                                    (field 8
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r_inlined
                                                                    (after middle_end/flambda/inlining_decision.ml(217):9159-9200
                                                                    (apply
                                                                    (field 1
                                                                    (field 3
                                                                    (global Inlining_cost!)))
                                                                    (after middle_end/flambda/inlining_decision.ml(217):9186-9199
                                                                    (apply
                                                                    (field 7
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r)))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(219):9216-9958
                                                                    (let
                                                                    (env =
                                                                    (after middle_end/flambda/inlining_decision.ml(219):9226-9253
                                                                    (apply
                                                                    (field 51
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))
                                                                    (before middle_end/flambda/inlining_decision.ml(220):9263-9958
                                                                    (let
                                                                    (env =
                                                                    (after middle_end/flambda/inlining_decision.ml(223):9433-9486
                                                                    (apply
                                                                    (field 46
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env
                                                                    set_of_closures_origin)))
                                                                    (before middle_end/flambda/inlining_decision.ml(225):9502-9958
                                                                    (let
                                                                    (env =
                                                                    (after middle_end/flambda/inlining_decision.ml(225):9512-9570
                                                                    (apply
                                                                    (field 48
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env
                                                                    (field 0
                                                                    function_decl))))
                                                                    (before middle_end/flambda/inlining_decision.ml(226):9580-9958
                                                                    (let
                                                                    (env =
                                                                    (if
                                                                    (after middle_end/flambda/inlining_decision.ml(227):9601-9625
                                                                    (apply
                                                                    (field 0
                                                                    (global Int_replace_polymorphic_compare!))
                                                                    (after middle_end/flambda/inlining_decision.ml(227):9601-9621
                                                                    (apply
                                                                    (field 40
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)) 0))
                                                                    (before middle_end/flambda/inlining_decision.ml(231):9861-9864
                                                                    env)
                                                                    (before middle_end/flambda/inlining_decision.ml(232):9878-9901
                                                                    (after middle_end/flambda/inlining_decision.ml(232):9878-9901
                                                                    (apply
                                                                    (field 41
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))))
                                                                    (before middle_end/flambda/inlining_decision.ml(234):9917-9958
                                                                    (makeblock 0
                                                                    (after middle_end/flambda/inlining_decision.ml(234):9926-9947
                                                                    (apply
                                                                    simplify
                                                                    env r
                                                                    body))
                                                                    decision)))))))))))))))))
                                                       (before middle_end/flambda/inlining_decision.ml(236):9970-12647
                                                         (if always_inline
                                                           (before middle_end/flambda/inlining_decision.ml(237):9998-10039
                                                             (after middle_end/flambda/inlining_decision.ml(237):9998-10039
                                                               (apply
                                                                 keep_inlined_version
                                                                 1a)))
                                                           (before middle_end/flambda/inlining_decision.ml(238):10049-12647
                                                             (if
                                                               only_use_of_function
                                                               (before middle_end/flambda/inlining_decision.ml(239):10084-10140
                                                                 (after middle_end/flambda/inlining_decision.ml(239):10084-10140
                                                                   (apply
                                                                    keep_inlined_version
                                                                    2a)))
                                                               (before middle_end/flambda/inlining_decision.ml(240):10150-12647
                                                                 (let
                                                                   (wsb =
                                                                    (after middle_end/flambda/inlining_decision.ml(242):10180-10406
                                                                    (apply
                                                                    (field 0
                                                                    (field 4
                                                                    (global Inlining_cost!)))
                                                                    original
                                                                    (after middle_end/flambda/inlining_decision.ml(243):10224-10243
                                                                    (apply
                                                                    (field 29
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env))
                                                                    (after middle_end/flambda/inlining_decision.ml(244):10268-10288
                                                                    (apply
                                                                    (field 31
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env))
                                                                    body
                                                                    (after middle_end/flambda/inlining_decision.ml(247):10385-10406
                                                                    (apply
                                                                    (field 7
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r_inlined))
                                                                    (field 6
                                                                    function_body)
                                                                    (after middle_end/flambda/inlining_decision.ml(246):10352-10365
                                                                    (apply
                                                                    (field 3
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))))
                                                                   (before middle_end/flambda/inlining_decision.ml(249):10422-12639
                                                                    (if
                                                                    (after middle_end/flambda/inlining_decision.ml(249):10425-10439
                                                                    (apply
                                                                    (field 2
                                                                    (field 4
                                                                    (global Inlining_cost!)))
                                                                    wsb))
                                                                    (before middle_end/flambda/inlining_decision.ml(250):10453-10510
                                                                    (after middle_end/flambda/inlining_decision.ml(250):10453-10510
                                                                    (apply
                                                                    keep_inlined_version
                                                                    (makeblock 0
                                                                    wsb))))
                                                                    (before middle_end/flambda/inlining_decision.ml(251):10522-12639
                                                                    (if
                                                                    (after middle_end/flambda/inlining_decision.ml(251):10525-10557
                                                                    (apply
                                                                    (field 2
                                                                    (global Int_replace_polymorphic_compare!))
                                                                    num_direct_applications_seen
                                                                    1))
                                                                    (before middle_end/flambda/inlining_decision.ml(251):10563-10975
                                                                    (makeblock 1
                                                                    (makeblock 1
                                                                    wsb)))
                                                                    (before middle_end/flambda/inlining_decision.ml(258):10981-12639
                                                                    (let
                                                                    (env =
                                                                    (after middle_end/flambda/inlining_decision.ml(259):11005-11028
                                                                    (apply
                                                                    (field 41
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))
                                                                    (before middle_end/flambda/inlining_decision.ml(260):11040-12629
                                                                    (let
                                                                    (env =
                                                                    (after middle_end/flambda/inlining_decision.ml(260):11050-11077
                                                                    (apply
                                                                    (field 51
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))
                                                                    (before middle_end/flambda/inlining_decision.ml(261):11089-12629
                                                                    (let
                                                                    (env =
                                                                    (after middle_end/flambda/inlining_decision.ml(264):11261-11314
                                                                    (apply
                                                                    (field 46
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env
                                                                    set_of_closures_origin)))
                                                                    (before middle_end/flambda/inlining_decision.ml(266):11334-12629
                                                                    (let
                                                                    (*match* =
                                                                    (after middle_end/flambda/inlining_decision.ml(266):11356-11383
                                                                    (apply
                                                                    simplify
                                                                    env
                                                                    r_inlined
                                                                    body))
                                                                    r_inlined =a
                                                                    (field 1
                                                                    *match*)
                                                                    body =a
                                                                    (field 0
                                                                    *match*))
                                                                    (before middle_end/flambda/inlining_decision.ml(267):11395-12629
                                                                    (let
                                                                    (wsb_with_subfunctions =
                                                                    (after middle_end/flambda/inlining_decision.ml(268):11433-11669
                                                                    (apply
                                                                    (field 0
                                                                    (field 4
                                                                    (global Inlining_cost!)))
                                                                    original
                                                                    (after middle_end/flambda/inlining_decision.ml(269):11479-11498
                                                                    (apply
                                                                    (field 29
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env))
                                                                    (after middle_end/flambda/inlining_decision.ml(270):11525-11545
                                                                    (apply
                                                                    (field 31
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env))
                                                                    body
                                                                    (after middle_end/flambda/inlining_decision.ml(273):11648-11669
                                                                    (apply
                                                                    (field 7
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r_inlined))
                                                                    (field 6
                                                                    function_body)
                                                                    (after middle_end/flambda/inlining_decision.ml(272):11613-11626
                                                                    (apply
                                                                    (field 3
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))))
                                                                    (before middle_end/flambda/inlining_decision.ml(275):11689-12629
                                                                    (if
                                                                    (after middle_end/flambda/inlining_decision.ml(275):11692-11724
                                                                    (apply
                                                                    (field 2
                                                                    (field 4
                                                                    (global Inlining_cost!)))
                                                                    wsb_with_subfunctions))
                                                                    (before middle_end/flambda/inlining_decision.ml(275):11730-12028
                                                                    (let
                                                                    (res =
                                                                    (makeblock 0
                                                                    body
                                                                    (after middle_end/flambda/inlining_decision.ml(277):11775-11861
                                                                    (apply
                                                                    (field 8
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r_inlined
                                                                    (after middle_end/flambda/inlining_decision.ml(278):11820-11861
                                                                    (apply
                                                                    (field 1
                                                                    (field 3
                                                                    (global Inlining_cost!)))
                                                                    (after middle_end/flambda/inlining_decision.ml(278):11847-11860
                                                                    (apply
                                                                    (field 7
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r))))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(280):11886-12016
                                                                    (let
                                                                    (decision =
                                                                    (makeblock 1
                                                                    wsb
                                                                    wsb_with_subfunctions))
                                                                    (before middle_end/flambda/inlining_decision.ml(283):11993-12016
                                                                    (makeblock 0
                                                                    res
                                                                    decision))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(285):12042-12629
                                                                    (let
                                                                    (decision =
                                                                    (makeblock 2
                                                                    wsb
                                                                    wsb_with_subfunctions))
                                                                    (before middle_end/flambda/inlining_decision.ml(295):12600-12617
                                                                    (makeblock 1
                                                                    decision))))))))))))))))))))))))))))))))))))))))))))))))))
     specialise =
       (function env r lhs_of_application function_decls function_decl
         closure_id_being_applied value_set_of_closures args args_approxs dbg
         simplify original recursive self_call inlining_threshold fun_cost
         inline_requested specialise_requested
         (funct-body middle_end/flambda/inlining_decision.ml(300)<ghost>:12664-19696
           (before middle_end/flambda/inlining_decision.ml(308):13036-19696
             (let (invariant_params = (field 3 value_set_of_closures))
               (before middle_end/flambda/inlining_decision.ml(309):13103-19696
                 (let (free_vars = (field 2 value_set_of_closures))
                   (before middle_end/flambda/inlining_decision.ml(310):13156-19696
                     (let
                       (has_no_useful_approxes =
                          (makemutable 246
                            (function param
                              (after middle_end/flambda/inlining_decision.ml(312):13200-13414
                                (apply (field 29 (global Stdlib__list!))
                                  (function id approx
                                    (funct-body middle_end/flambda/inlining_decision.ml(313):13224-13348
                                      (before middle_end/flambda/inlining_decision.ml(314):13254-13347
                                        (not
                                          (&&
                                            (after middle_end/flambda/inlining_decision.ml(314):13259-13276
                                              (apply
                                                (field 47
                                                  (global Simple_value_approx!))
                                                approx))
                                            (after middle_end/flambda/inlining_decision.ml(315):13297-13346
                                              (apply
                                                (field 2
                                                  (field 7
                                                    (global Variable!)))
                                                id
                                                (after middle_end/flambda/inlining_decision.ml(315):13317-13346
                                                  (let
                                                    (lzarg = invariant_params
                                                     tag =a
                                                       (caml_obj_tag lzarg))
                                                    (if (== tag 250)
                                                      (field 0 lzarg)
                                                      (if (== tag 246)
                                                        (apply
                                                          (field 1
                                                            (global CamlinternalLazy!))
                                                          lzarg)
                                                        lzarg)))))))))))
                                  (after middle_end/flambda/inlining_decision.ml(316):13358-13400
                                    (apply
                                      (field 0
                                        (field 13 (global Parameter!)))
                                      (field 1 function_decl)))
                                  args_approxs)))))
                       (before middle_end/flambda/inlining_decision.ml(318):13422-19696
                         (let
                           (*match* =
                              (switch* specialise_requested
                               case int 0:
                                (before middle_end/flambda/inlining_decision.ml(322):13670-13681
                                  [0: 1a 0a])
                               case int 1:
                                (before middle_end/flambda/inlining_decision.ml(323):13708-13719
                                  [0: 0a 1a])
                               case int 2:
                                (before middle_end/flambda/inlining_decision.ml(324):13748-14073
                                  (let (*match* = (field 2 function_decl))
                                    (if *match*
                                      (let
                                        (*match* =a (field 0 *match*)
                                         specialise =a (field 5 *match*))
                                        (before middle_end/flambda/inlining_decision.ml(328):13874-14063
                                          (switch* specialise
                                           case int 0:
                                            (before middle_end/flambda/inlining_decision.ml(329):13961-13972
                                              [0: 1a 0a])
                                           case int 1:
                                            (before middle_end/flambda/inlining_decision.ml(330):14005-14016
                                              [0: 0a 1a])
                                           case int 2:
                                            (before middle_end/flambda/inlining_decision.ml(331):14051-14063
                                              [0: 0a 0a]))))
                                      (before middle_end/flambda/inlining_decision.ml(326):13819-13830
                                        [0: 0a 1a])))))
                            never_specialise =a (field 1 *match*)
                            always_specialise =a (field 0 *match*))
                           (before middle_end/flambda/inlining_decision.ml(334):14081-19696
                             (let
                               (remaining_inlining_threshold =
                                  (if always_specialise
                                    (before middle_end/flambda/inlining_decision.ml(335):14174-14192
                                      inlining_threshold)
                                    (before middle_end/flambda/inlining_decision.ml(336):14202-14221
                                      (after middle_end/flambda/inlining_decision.ml(336):14202-14221
                                        (let
                                          (lzarg = fun_cost
                                           tag =a (caml_obj_tag lzarg))
                                          (if (== tag 250) (field 0 lzarg)
                                            (if (== tag 246)
                                              (apply
                                                (field 1
                                                  (global CamlinternalLazy!))
                                                lzarg)
                                              lzarg)))))))
                               (before middle_end/flambda/inlining_decision.ml(338):14229-19696
                                 (let
                                   (try_specialising =
                                      (if (field 0 function_decls)
                                        (before middle_end/flambda/inlining_decision.ml(345):14541-14584
                                          [0: 0a])
                                        (before middle_end/flambda/inlining_decision.ml(346):14594-15596
                                          (if self_call
                                            (before middle_end/flambda/inlining_decision.ml(347):14618-14658
                                              [0: 6a])
                                            (before middle_end/flambda/inlining_decision.ml(348):14668-15596
                                              (if
                                                (&& always_specialise
                                                  (not
                                                    (after middle_end/flambda/inlining_decision.ml(348):14696-14731
                                                      (let
                                                        (lzarg =
                                                           has_no_useful_approxes
                                                         tag =a
                                                           (caml_obj_tag
                                                             lzarg))
                                                        (if (== tag 250)
                                                          (field 0 lzarg)
                                                          (if (== tag 246)
                                                            (apply
                                                              (field 1
                                                                (global CamlinternalLazy!))
                                                              lzarg)
                                                            lzarg))))))
                                                (before middle_end/flambda/inlining_decision.ml(349):14743-14749
                                                  0a)
                                                (before middle_end/flambda/inlining_decision.ml(350):14759-15596
                                                  (if never_specialise
                                                    (before middle_end/flambda/inlining_decision.ml(351):14790-14831
                                                      [0: 1a])
                                                    (before middle_end/flambda/inlining_decision.ml(352):14841-15596
                                                      (if
                                                        (after middle_end/flambda/inlining_decision.ml(352):14844-14895
                                                          (apply
                                                            (field 3
                                                              (field 0
                                                                (global Inlining_cost!)))
                                                            remaining_inlining_threshold
                                                            0a))
                                                        (before middle_end/flambda/inlining_decision.ml(353):14907-15139
                                                          (let
                                                            (threshold =[int]
                                                               (if
                                                                 inlining_threshold
                                                                 (let
                                                                   (threshold =a
                                                                    (field 0
                                                                    inlining_threshold))
                                                                   (before middle_end/flambda/inlining_decision.ml(356):15056-15065
                                                                    threshold))
                                                                 (before middle_end/flambda/inlining_decision.ml(355):14989-15001
                                                                   (raise
                                                                    (after middle_end/flambda/inlining_decision.ml(355):14989-15001
                                                                    (makeblock 0
                                                                    (global Assert_failure!)
                                                                    [0:
                                                                    "middle_end/flambda/inlining_decision.ml"
                                                                    355 28]))))))
                                                            (before middle_end/flambda/inlining_decision.ml(358):15081-15139
                                                              (makeblock 0
                                                                (makeblock 0 (int)
                                                                  threshold)))))
                                                        (before middle_end/flambda/inlining_decision.ml(359):15149-15596
                                                          (if
                                                            (not
                                                              (after middle_end/flambda/inlining_decision.ml(359):15156-15189
                                                                (apply
                                                                  (field 1
                                                                    (field 7
                                                                    (global Variable!)))
                                                                  free_vars)))
                                                            (before middle_end/flambda/inlining_decision.ml(360):15201-15242
                                                              [0: 3a])
                                                            (before middle_end/flambda/inlining_decision.ml(361):15252-15596
                                                              (if
                                                                (not
                                                                  (after middle_end/flambda/inlining_decision.ml(361):15259-15281
                                                                    (let
                                                                    (lzarg =
                                                                    recursive
                                                                    tag =a
                                                                    (caml_obj_tag
                                                                    lzarg))
                                                                    (if
                                                                    (== tag
                                                                    250)
                                                                    (field 0
                                                                    lzarg)
                                                                    (if
                                                                    (== tag
                                                                    246)
                                                                    (apply
                                                                    (field 1
                                                                    (global CamlinternalLazy!))
                                                                    lzarg)
                                                                    lzarg)))))
                                                                (before middle_end/flambda/inlining_decision.ml(362):15293-15337
                                                                  [0: 2a])
                                                                (before middle_end/flambda/inlining_decision.ml(363):15347-15596
                                                                  (if
                                                                    (after middle_end/flambda/inlining_decision.ml(363):15350-15401
                                                                    (apply
                                                                    (field 1
                                                                    (field 7
                                                                    (global Variable!)))
                                                                    (after middle_end/flambda/inlining_decision.ml(363):15372-15401
                                                                    (let
                                                                    (lzarg =
                                                                    invariant_params
                                                                    tag =a
                                                                    (caml_obj_tag
                                                                    lzarg))
                                                                    (if
                                                                    (== tag
                                                                    250)
                                                                    (field 0
                                                                    lzarg)
                                                                    (if
                                                                    (== tag
                                                                    246)
                                                                    (apply
                                                                    (field 1
                                                                    (global CamlinternalLazy!))
                                                                    lzarg)
                                                                    lzarg))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(364):15413-15467
                                                                    [0: 4a])
                                                                    (before middle_end/flambda/inlining_decision.ml(365):15477-15596
                                                                    (if
                                                                    (after middle_end/flambda/inlining_decision.ml(365):15480-15513
                                                                    (let
                                                                    (lzarg =
                                                                    has_no_useful_approxes
                                                                    tag =a
                                                                    (caml_obj_tag
                                                                    lzarg))
                                                                    (if
                                                                    (== tag
                                                                    250)
                                                                    (field 0
                                                                    lzarg)
                                                                    (if
                                                                    (== tag
                                                                    246)
                                                                    (apply
                                                                    (field 1
                                                                    (global CamlinternalLazy!))
                                                                    lzarg)
                                                                    lzarg))))
                                                                    (before middle_end/flambda/inlining_decision.ml(366):15525-15580
                                                                    [0: 5a])
                                                                    (before middle_end/flambda/inlining_decision.ml(367):15590-15596
                                                                    0a)))))))))))))))))))
                                   (before middle_end/flambda/inlining_decision.ml(369):15604-19696
                                     (if try_specialising
                                       (let
                                         (decision =a
                                            (field 0 try_specialising))
                                         (before middle_end/flambda/inlining_decision.ml(370):15661-15678
                                           (makeblock 1 decision)))
                                       (before middle_end/flambda/inlining_decision.ml(371):15693-19696
                                         (let
                                           (r =
                                              (after middle_end/flambda/inlining_decision.ml(373):15721-15783
                                                (apply
                                                  (field 11
                                                    (field 1
                                                      (global Inline_and_simplify_aux!)))
                                                  r
                                                  (makeblock 0
                                                    remaining_inlining_threshold))))
                                           (before middle_end/flambda/inlining_decision.ml(375):15799-19688
                                             (let
                                               (copied_function_declaration =
                                                  (after middle_end/flambda/inlining_decision.ml(376):15841-16341
                                                    (apply
                                                      (field 1
                                                        (global Inlining_transforms!))
                                                      env
                                                      (after middle_end/flambda/inlining_decision.ml(377):15918-15937
                                                        (apply
                                                          (field 10
                                                            (field 1
                                                              (global Inline_and_simplify_aux!)))
                                                          r))
                                                      function_decls
                                                      lhs_of_application
                                                      inline_requested
                                                      closure_id_being_applied
                                                      function_decl args
                                                      args_approxs
                                                      invariant_params
                                                      (field 6
                                                        value_set_of_closures)
                                                      (field 2
                                                        value_set_of_closures)
                                                      (field 8
                                                        value_set_of_closures)
                                                      dbg simplify)))
                                               (before middle_end/flambda/inlining_decision.ml(386):16357-19688
                                                 (if
                                                   copied_function_declaration
                                                   (let
                                                     (*match* =a
                                                        (field 0
                                                          copied_function_declaration)
                                                      r_inlined =a
                                                        (field 1 *match*)
                                                      expr =a
                                                        (field 0 *match*))
                                                     (before middle_end/flambda/inlining_decision.ml(388):16438-19577
                                                       (let
                                                         (wsb =
                                                            (after middle_end/flambda/inlining_decision.ml(389):16458-16659
                                                              (apply
                                                                (field 0
                                                                  (field 4
                                                                    (global Inlining_cost!)))
                                                                original 0a
                                                                (after middle_end/flambda/inlining_decision.ml(391):16536-16556
                                                                  (apply
                                                                    (field 31
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env))
                                                                expr
                                                                (after middle_end/flambda/inlining_decision.ml(394):16638-16659
                                                                  (apply
                                                                    (field 7
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r_inlined))
                                                                0a
                                                                (after middle_end/flambda/inlining_decision.ml(393):16603-16616
                                                                  (apply
                                                                    (field 3
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))))
                                                         (before middle_end/flambda/inlining_decision.ml(396):16679-19577
                                                           (let
                                                             (env =
                                                                (let
                                                                  (closure_ids =
                                                                    (after middle_end/flambda/inlining_decision.ml(400):16829-16973
                                                                    (apply
                                                                    (field 41
                                                                    (field 6
                                                                    (global Closure_id!)))
                                                                    (after middle_end/flambda/inlining_decision.ml(400):16852-16973
                                                                    (apply
                                                                    (field 16
                                                                    (global Stdlib__list!))
                                                                    (field 9
                                                                    (global Closure_id!))
                                                                    (after middle_end/flambda/inlining_decision.ml(402):16909-16972
                                                                    (apply
                                                                    (field 20
                                                                    (field 6
                                                                    (global Variable!)))
                                                                    (after middle_end/flambda/inlining_decision.ml(402):16932-16971
                                                                    (apply
                                                                    (field 46
                                                                    (field 7
                                                                    (global Variable!)))
                                                                    (field 3
                                                                    function_decls))))))))))
                                                                  (before middle_end/flambda/inlining_decision.ml(404):16997-17041
                                                                    (after middle_end/flambda/inlining_decision.ml(404):16997-17041
                                                                    (apply
                                                                    (field 52
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env
                                                                    closure_ids)))))
                                                             (before middle_end/flambda/inlining_decision.ml(406):17061-19577
                                                               (if
                                                                 (||
                                                                   always_specialise
                                                                   (after middle_end/flambda/inlining_decision.ml(406):17085-17099
                                                                    (apply
                                                                    (field 2
                                                                    (field 4
                                                                    (global Inlining_cost!)))
                                                                    wsb)))
                                                                 (before middle_end/flambda/inlining_decision.ml(406):17105-18388
                                                                   (let
                                                                    (r_inlined =
                                                                    (if
                                                                    always_specialise
                                                                    (before middle_end/flambda/inlining_decision.ml(409):17189-17356
                                                                    (after middle_end/flambda/inlining_decision.ml(409):17189-17356
                                                                    (apply
                                                                    (field 8
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r_inlined
                                                                    (after middle_end/flambda/inlining_decision.ml(410):17229-17356
                                                                    (apply
                                                                    (field 2
                                                                    (field 3
                                                                    (global Inlining_cost!)))
                                                                    (after middle_end/flambda/inlining_decision.ml(410):17263-17276
                                                                    (apply
                                                                    (field 3
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env))
                                                                    (after middle_end/flambda/inlining_decision.ml(411):17319-17354
                                                                    (apply
                                                                    (field 9
                                                                    (field 3
                                                                    (global Inlining_cost!)))
                                                                    (field 0
                                                                    (field 3
                                                                    (global Inlining_cost!)))
                                                                    expr)))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(412):17374-17383
                                                                    r_inlined)))
                                                                    (before middle_end/flambda/inlining_decision.ml(414):17407-18376
                                                                    (let
                                                                    (r =
                                                                    (after middle_end/flambda/inlining_decision.ml(415):17427-17492
                                                                    (apply
                                                                    (field 8
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r_inlined
                                                                    (after middle_end/flambda/inlining_decision.ml(415):17451-17492
                                                                    (apply
                                                                    (field 1
                                                                    (field 3
                                                                    (global Inlining_cost!)))
                                                                    (after middle_end/flambda/inlining_decision.ml(415):17478-17491
                                                                    (apply
                                                                    (field 7
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r)))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(417):17516-18376
                                                                    (let
                                                                    (closure_env =
                                                                    (let
                                                                    (env =
                                                                    (if
                                                                    (after middle_end/flambda/inlining_decision.ml(419):17573-17597
                                                                    (apply
                                                                    (field 0
                                                                    (global Int_replace_polymorphic_compare!))
                                                                    (after middle_end/flambda/inlining_decision.ml(419):17573-17593
                                                                    (apply
                                                                    (field 40
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)) 0))
                                                                    (before middle_end/flambda/inlining_decision.ml(424):17873-17876
                                                                    env)
                                                                    (before middle_end/flambda/inlining_decision.ml(425):17896-17919
                                                                    (after middle_end/flambda/inlining_decision.ml(425):17896-17919
                                                                    (apply
                                                                    (field 41
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))))
                                                                    (before middle_end/flambda/inlining_decision.ml(427):17949-17988
                                                                    (after middle_end/flambda/inlining_decision.ml(427):17949-17988
                                                                    (apply
                                                                    (field 37
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))))
                                                                    (before middle_end/flambda/inlining_decision.ml(429):18012-18376
                                                                    (let
                                                                    (application_env =
                                                                    (after middle_end/flambda/inlining_decision.ml(429):18034-18072
                                                                    (apply
                                                                    (field 35
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))
                                                                    (before middle_end/flambda/inlining_decision.ml(430):18086-18376
                                                                    (let
                                                                    (*match* =
                                                                    (after middle_end/flambda/inlining_decision.ml(430):18100-18127
                                                                    (apply
                                                                    simplify
                                                                    closure_env
                                                                    r expr))
                                                                    r =a
                                                                    (field 1
                                                                    *match*)
                                                                    expr =a
                                                                    (field 0
                                                                    *match*))
                                                                    (before middle_end/flambda/inlining_decision.ml(431):18141-18376
                                                                    (let
                                                                    (res =
                                                                    (after middle_end/flambda/inlining_decision.ml(431):18151-18182
                                                                    (apply
                                                                    simplify
                                                                    application_env
                                                                    r expr)))
                                                                    (before middle_end/flambda/inlining_decision.ml(432):18196-18376
                                                                    (let
                                                                    (decision =
                                                                    (if
                                                                    always_specialise
                                                                    (before middle_end/flambda/inlining_decision.ml(433):18249-18273
                                                                    0a)
                                                                    (before middle_end/flambda/inlining_decision.ml(434):18291-18329
                                                                    (makeblock 0
                                                                    wsb))))
                                                                    (before middle_end/flambda/inlining_decision.ml(436):18353-18376
                                                                    (makeblock 0
                                                                    res
                                                                    decision))))))))))))))))
                                                                 (before middle_end/flambda/inlining_decision.ml(437):18394-19577
                                                                   (let
                                                                    (closure_env =
                                                                    (let
                                                                    (env =
                                                                    (after middle_end/flambda/inlining_decision.ml(439):18450-18473
                                                                    (apply
                                                                    (field 41
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))
                                                                    (before middle_end/flambda/inlining_decision.ml(440):18489-18528
                                                                    (after middle_end/flambda/inlining_decision.ml(440):18489-18528
                                                                    (apply
                                                                    (field 37
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))))
                                                                    (before middle_end/flambda/inlining_decision.ml(442):18552-19565
                                                                    (let
                                                                    (*match* =
                                                                    (after middle_end/flambda/inlining_decision.ml(442):18574-18609
                                                                    (apply
                                                                    simplify
                                                                    closure_env
                                                                    r_inlined
                                                                    expr))
                                                                    r_inlined =a
                                                                    (field 1
                                                                    *match*)
                                                                    expr =a
                                                                    (field 0
                                                                    *match*))
                                                                    (before middle_end/flambda/inlining_decision.ml(443):18623-19565
                                                                    (let
                                                                    (wsb_with_subfunctions =
                                                                    (after middle_end/flambda/inlining_decision.ml(444):18663-18874
                                                                    (apply
                                                                    (field 0
                                                                    (field 4
                                                                    (global Inlining_cost!)))
                                                                    original
                                                                    0a
                                                                    (after middle_end/flambda/inlining_decision.ml(446):18745-18765
                                                                    (apply
                                                                    (field 31
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env))
                                                                    expr
                                                                    (after middle_end/flambda/inlining_decision.ml(449):18853-18874
                                                                    (apply
                                                                    (field 7
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r_inlined))
                                                                    0a
                                                                    (after middle_end/flambda/inlining_decision.ml(448):18816-18829
                                                                    (apply
                                                                    (field 3
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))))
                                                                    (before middle_end/flambda/inlining_decision.ml(451):18898-19565
                                                                    (if
                                                                    (after middle_end/flambda/inlining_decision.ml(451):18901-18933
                                                                    (apply
                                                                    (field 2
                                                                    (field 4
                                                                    (global Inlining_cost!)))
                                                                    wsb_with_subfunctions))
                                                                    (before middle_end/flambda/inlining_decision.ml(451):18939-19392
                                                                    (let
                                                                    (r =
                                                                    (after middle_end/flambda/inlining_decision.ml(453):18981-19070
                                                                    (apply
                                                                    (field 8
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r_inlined
                                                                    (after middle_end/flambda/inlining_decision.ml(454):19029-19070
                                                                    (apply
                                                                    (field 1
                                                                    (field 3
                                                                    (global Inlining_cost!)))
                                                                    (after middle_end/flambda/inlining_decision.ml(454):19056-19069
                                                                    (apply
                                                                    (field 7
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r)))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(456):19100-19378
                                                                    (let
                                                                    (application_env =
                                                                    (after middle_end/flambda/inlining_decision.ml(456):19122-19160
                                                                    (apply
                                                                    (field 35
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))
                                                                    (before middle_end/flambda/inlining_decision.ml(457):19177-19378
                                                                    (let
                                                                    (res =
                                                                    (after middle_end/flambda/inlining_decision.ml(457):19187-19218
                                                                    (apply
                                                                    simplify
                                                                    application_env
                                                                    r expr)))
                                                                    (before middle_end/flambda/inlining_decision.ml(458):19235-19378
                                                                    (let
                                                                    (decision =
                                                                    (makeblock 1
                                                                    wsb
                                                                    wsb_with_subfunctions))
                                                                    (before middle_end/flambda/inlining_decision.ml(461):19355-19378
                                                                    (makeblock 0
                                                                    res
                                                                    decision))))))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(462):19398-19565
                                                                    (let
                                                                    (decision =
                                                                    (makeblock 1
                                                                    wsb
                                                                    wsb_with_subfunctions))
                                                                    (before middle_end/flambda/inlining_decision.ml(466):19534-19551
                                                                    (makeblock 1
                                                                    decision)))))))))))))))))))
                                                   (before middle_end/flambda/inlining_decision.ml(470):19602-19688
                                                     (let (decision = 5a)
                                                       (before middle_end/flambda/inlining_decision.ml(471):19671-19688
                                                         (makeblock 1
                                                           decision))))))))))))))))))))))))))
     for_call_site =
       (function env r function_decls lhs_of_application
         closure_id_being_applied function_decl value_set_of_closures args
         args_approxs dbg simplify inline_requested specialise_requested
         (funct-body middle_end/flambda/inlining_decision.ml(474)<ghost>:19716-30371
           (before middle_end/flambda/inlining_decision.ml(480):20016-30371
             (seq
               (if
                 (after middle_end/flambda/inlining_decision.ml(480):20019-20063
                   (apply (field 1 (global Int_replace_polymorphic_compare!))
                     (after middle_end/flambda/inlining_decision.ml(480):20019-20035
                       (apply (field 0 (global Stdlib__list!)) args))
                     (after middle_end/flambda/inlining_decision.ml(480):20039-20063
                       (apply (field 0 (global Stdlib__list!)) args_approxs))))
                 (before middle_end/flambda/inlining_decision.ml(480):20069-20196
                   (after middle_end/flambda/inlining_decision.ml(480):20069-20196
                     (apply (field 0 (global Misc!))
                       "Inlining_decision.for_call_site: inconsistent lengths of [args] and [args_approxs]")))
                 0a)
               (before middle_end/flambda/inlining_decision.ml(486):20336-30371
                 (let
                   (inline_requested =
                      (if (isint inline_requested)
                        (before middle_end/flambda/inlining_decision.ml(497):20749-20765
                          inline_requested)
                        (before middle_end/flambda/inlining_decision.ml(488):20463-20685
                          (let
                            (unrolling =
                               (after middle_end/flambda/inlining_decision.ml(490):20503-20565
                                 (apply
                                   (field 42
                                     (field 0
                                       (global Inline_and_simplify_aux!)))
                                   env (field 2 function_decls))))
                            (before middle_end/flambda/inlining_decision.ml(492):20585-20675
                              (if unrolling
                                (before middle_end/flambda/inlining_decision.ml(493):20626-20640
                                  2a)
                                (before middle_end/flambda/inlining_decision.ml(494):20659-20675
                                  inline_requested)))))))
                   (before middle_end/flambda/inlining_decision.ml(499):20773-30371
                     (let
                       (original =
                          (makeblock 4
                            (makeblock 0 lhs_of_application args
                              (makeblock 0 closure_id_being_applied) dbg
                              inline_requested specialise_requested)))
                       (before middle_end/flambda/inlining_decision.ml(509):20997-30371
                         (let
                           (original_r =
                              (after middle_end/flambda/inlining_decision.ml(510):21018-21084
                                (apply
                                  (field 2
                                    (field 1
                                      (global Inline_and_simplify_aux!)))
                                  (after middle_end/flambda/inlining_decision.ml(510):21031-21060
                                    (apply
                                      (field 15
                                        (field 1
                                          (global Inline_and_simplify_aux!)))
                                      r))
                                  (after middle_end/flambda/inlining_decision.ml(510):21061-21084
                                    (apply
                                      (field 9 (global Simple_value_approx!))
                                      0a)))))
                           (before middle_end/flambda/inlining_decision.ml(512):21092-30371
                             (let (*match* = (field 2 function_decl))
                               (if *match*
                                 (let
                                   (*match* =a (field 0 *match*)
                                    stub =a (field 2 *match*))
                                   (before middle_end/flambda/inlining_decision.ml(515):21192-30371
                                     (if stub
                                       (before middle_end/flambda/inlining_decision.ml(515):21205-21641
                                         (let
                                           (fun_vars =
                                              (after middle_end/flambda/inlining_decision.ml(516):21232-21269
                                                (apply
                                                  (field 46
                                                    (field 7
                                                      (global Variable!)))
                                                  (field 3 function_decls))))
                                           (before middle_end/flambda/inlining_decision.ml(517):21279-21633
                                             (let
                                               (function_body =
                                                  (after middle_end/flambda/inlining_decision.ml(517):21299-21330
                                                    (apply get_function_body
                                                      function_decl)))
                                               (before middle_end/flambda/inlining_decision.ml(518):21340-21633
                                                 (let
                                                   (*match* =
                                                      (after middle_end/flambda/inlining_decision.ml(519):21362-21598
                                                        (apply
                                                          (field 0
                                                            (global Inlining_transforms!))
                                                          env r
                                                          lhs_of_application
                                                          inline_requested
                                                          specialise_requested
                                                          closure_id_being_applied
                                                          function_decl
                                                          function_body
                                                          fun_vars args dbg
                                                          simplify))
                                                    r =a (field 1 *match*)
                                                    body =a (field 0 *match*))
                                                   (before middle_end/flambda/inlining_decision.ml(524):21614-21633
                                                     (after middle_end/flambda/inlining_decision.ml(524):21614-21633
                                                       (apply simplify env r
                                                         body)))))))))
                                       (before middle_end/flambda/inlining_decision.ml(525):21647-30371
                                         (if
                                           (after middle_end/flambda/inlining_decision.ml(525):21650-21668
                                             (apply
                                               (field 39
                                                 (field 0
                                                   (global Inline_and_simplify_aux!)))
                                               env))
                                           (before middle_end/flambda/inlining_decision.ml(529):21892-21912
                                             (makeblock 0 original
                                               original_r))
                                           (before middle_end/flambda/inlining_decision.ml(530):21922-30371
                                             (if (field 0 function_decls)
                                               (before middle_end/flambda/inlining_decision.ml(530):21961-25257
                                                 (let
                                                   (env =
                                                      (after middle_end/flambda/inlining_decision.ml(532):21991-22071
                                                        (apply
                                                          (field 50
                                                            (field 0
                                                              (global Inline_and_simplify_aux!)))
                                                          env
                                                          closure_id_being_applied
                                                          dbg)))
                                                   (before middle_end/flambda/inlining_decision.ml(535):22087-25249
                                                     (let
                                                       (simpl =
                                                          (let
                                                            (*match* =
                                                               (field 2
                                                                 function_decl))
                                                            (if *match*
                                                              (let
                                                                (function_body =a
                                                                   (field 0
                                                                    *match*))
                                                                (before middle_end/flambda/inlining_decision.ml(539):22242-23767
                                                                  (let
                                                                    (self_call =
                                                                    (after middle_end/flambda/inlining_decision.ml(540):22270-22362
                                                                    (apply
                                                                    (field 28
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    (field 2
                                                                    function_decls)
                                                                    env)))
                                                                    (before middle_end/flambda/inlining_decision.ml(543):22386-23767
                                                                    (let
                                                                    (try_inlining =
                                                                    (if
                                                                    self_call
                                                                    (before middle_end/flambda/inlining_decision.ml(545):22449-22485
                                                                    [0: 4a])
                                                                    (before middle_end/flambda/inlining_decision.ml(547):22517-22692
                                                                    (if
                                                                    (not
                                                                    (after middle_end/flambda/inlining_decision.ml(547):22524-22577
                                                                    (apply
                                                                    (field 47
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env
                                                                    (field 0
                                                                    function_decl))))
                                                                    (before middle_end/flambda/inlining_decision.ml(548):22599-22650
                                                                    [0: 3a])
                                                                    (before middle_end/flambda/inlining_decision.ml(550):22686-22692
                                                                    0a)))))
                                                                    (before middle_end/flambda/inlining_decision.ml(552):22716-23767
                                                                    (if
                                                                    try_inlining
                                                                    (let
                                                                    (decision =a
                                                                    (field 0
                                                                    try_inlining))
                                                                    (before middle_end/flambda/inlining_decision.ml(553):22777-22794
                                                                    (makeblock 1
                                                                    decision)))
                                                                    (before middle_end/flambda/inlining_decision.ml(555):22829-23767
                                                                    (let
                                                                    (fun_vars =
                                                                    (after middle_end/flambda/inlining_decision.ml(555):22844-22881
                                                                    (apply
                                                                    (field 46
                                                                    (field 7
                                                                    (global Variable!)))
                                                                    (field 3
                                                                    function_decls))))
                                                                    (before middle_end/flambda/inlining_decision.ml(556):22897-23767
                                                                    (let
                                                                    (*match* =
                                                                    (after middle_end/flambda/inlining_decision.ml(557):22925-23179
                                                                    (apply
                                                                    (field 0
                                                                    (global Inlining_transforms!))
                                                                    env r
                                                                    lhs_of_application
                                                                    inline_requested
                                                                    specialise_requested
                                                                    closure_id_being_applied
                                                                    function_decl
                                                                    function_body
                                                                    fun_vars
                                                                    args dbg
                                                                    simplify))
                                                                    r =a
                                                                    (field 1
                                                                    *match*)
                                                                    body =a
                                                                    (field 0
                                                                    *match*))
                                                                    (before middle_end/flambda/inlining_decision.ml(562):23207-23767
                                                                    (let
                                                                    (env =
                                                                    (after middle_end/flambda/inlining_decision.ml(562):23217-23244
                                                                    (apply
                                                                    (field 51
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))
                                                                    (before middle_end/flambda/inlining_decision.ml(563):23260-23767
                                                                    (let
                                                                    (env =
                                                                    (after middle_end/flambda/inlining_decision.ml(567):23465-23574
                                                                    (apply
                                                                    (field 46
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env
                                                                    (field 2
                                                                    function_decls))))
                                                                    (before middle_end/flambda/inlining_decision.ml(570):23602-23767
                                                                    (let
                                                                    (env =
                                                                    (after middle_end/flambda/inlining_decision.ml(571):23626-23684
                                                                    (apply
                                                                    (field 48
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env
                                                                    (field 0
                                                                    function_decl))))
                                                                    (before middle_end/flambda/inlining_decision.ml(573):23712-23767
                                                                    (makeblock 0
                                                                    (after middle_end/flambda/inlining_decision.ml(573):23721-23742
                                                                    (apply
                                                                    simplify
                                                                    env r
                                                                    body))
                                                                    0a)))))))))))))))))))
                                                              (before middle_end/flambda/inlining_decision.ml(537):22164-22199
                                                                [1: 0a]))))
                                                       (before middle_end/flambda/inlining_decision.ml(575):23783-25249
                                                         (let
                                                           (*match* =
                                                              (switch* simpl
                                                               case tag 0:
                                                                (let
                                                                  (decision =a
                                                                    (field 1
                                                                    simpl)
                                                                   *match* =a
                                                                    (field 0
                                                                    simpl)
                                                                   r =a
                                                                    (field 1
                                                                    *match*)
                                                                   expr =a
                                                                    (field 0
                                                                    *match*))
                                                                  (before middle_end/flambda/inlining_decision.ml(583):24069-25192
                                                                    (let
                                                                    (max_inlining_threshold =
                                                                    (if
                                                                    (after middle_end/flambda/inlining_decision.ml(584):24113-24130
                                                                    (apply
                                                                    (field 29
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env))
                                                                    (before middle_end/flambda/inlining_decision.ml(585):24150-24246
                                                                    (after middle_end/flambda/inlining_decision.ml(585):24150-24246
                                                                    (apply
                                                                    (field 3
                                                                    (global Inline_and_simplify_aux!))
                                                                    (after middle_end/flambda/inlining_decision.ml(586):24233-24246
                                                                    (apply
                                                                    (field 3
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))))
                                                                    (before middle_end/flambda/inlining_decision.ml(588):24278-24365
                                                                    (after middle_end/flambda/inlining_decision.ml(588):24278-24365
                                                                    (apply
                                                                    (field 2
                                                                    (global Inline_and_simplify_aux!))
                                                                    (after middle_end/flambda/inlining_decision.ml(589):24352-24365
                                                                    (apply
                                                                    (field 3
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(591):24389-25192
                                                                    (let
                                                                    (raw_inlining_threshold =
                                                                    (after middle_end/flambda/inlining_decision.ml(591):24418-24440
                                                                    (apply
                                                                    (field 14
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r)))
                                                                    (before middle_end/flambda/inlining_decision.ml(592):24454-25192
                                                                    (let
                                                                    (unthrottled_inlining_threshold =
                                                                    (if
                                                                    raw_inlining_threshold
                                                                    (let
                                                                    (inlining_threshold =a
                                                                    (field 0
                                                                    raw_inlining_threshold))
                                                                    (before middle_end/flambda/inlining_decision.ml(595):24623-24641
                                                                    inlining_threshold))
                                                                    (before middle_end/flambda/inlining_decision.ml(594):24559-24581
                                                                    max_inlining_threshold)))
                                                                    (before middle_end/flambda/inlining_decision.ml(597):24665-25192
                                                                    (let
                                                                    (inlining_threshold =
                                                                    (after middle_end/flambda/inlining_decision.ml(598):24702-24761
                                                                    (apply
                                                                    (field 2
                                                                    (field 0
                                                                    (global Inlining_cost!)))
                                                                    unthrottled_inlining_threshold
                                                                    max_inlining_threshold)))
                                                                    (before middle_end/flambda/inlining_decision.ml(600):24785-25192
                                                                    (let
                                                                    (inlining_threshold_diff =
                                                                    (after middle_end/flambda/inlining_decision.ml(601):24827-24882
                                                                    (apply
                                                                    (field 1
                                                                    (field 0
                                                                    (global Inlining_cost!)))
                                                                    unthrottled_inlining_threshold
                                                                    inlining_threshold)))
                                                                    (before middle_end/flambda/inlining_decision.ml(603):24906-25192
                                                                    (let
                                                                    (res =
                                                                    (if
                                                                    (after middle_end/flambda/inlining_decision.ml(604):24931-24955
                                                                    (apply
                                                                    (field 0
                                                                    (global Int_replace_polymorphic_compare!))
                                                                    (after middle_end/flambda/inlining_decision.ml(604):24931-24951
                                                                    (apply
                                                                    (field 40
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)) 0))
                                                                    (before middle_end/flambda/inlining_decision.ml(605):24973-25028
                                                                    (makeblock 0
                                                                    expr
                                                                    (after middle_end/flambda/inlining_decision.ml(605):24979-25028
                                                                    (apply
                                                                    (field 11
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r
                                                                    raw_inlining_threshold))))
                                                                    (before middle_end/flambda/inlining_decision.ml(606):25046-25102
                                                                    (makeblock 0
                                                                    expr
                                                                    (after middle_end/flambda/inlining_decision.ml(606):25052-25102
                                                                    (apply
                                                                    (field 12
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r
                                                                    inlining_threshold_diff))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(608):25126-25192
                                                                    (makeblock 0
                                                                    res
                                                                    (makeblock 2
                                                                    0a
                                                                    decision))))))))))))))))
                                                               case tag 1:
                                                                (let
                                                                  (decision =a
                                                                    (field 0
                                                                    simpl))
                                                                  (before middle_end/flambda/inlining_decision.ml(578):23869-24015
                                                                    (let
                                                                    (decision =
                                                                    (makeblock 3
                                                                    0a
                                                                    decision))
                                                                    (before middle_end/flambda/inlining_decision.ml(581):23983-24015
                                                                    (makeblock 0
                                                                    (makeblock 0
                                                                    original
                                                                    original_r)
                                                                    decision))))))
                                                            decision =a
                                                              (field 1
                                                                *match*)
                                                            res =a
                                                              (field 0
                                                                *match*))
                                                           (before middle_end/flambda/inlining_decision.ml(610):25208-25249
                                                             (seq
                                                               (after middle_end/flambda/inlining_decision.ml(610):25208-25238
                                                                 (apply
                                                                   (field 54
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                   env
                                                                   decision))
                                                               (before middle_end/flambda/inlining_decision.ml(611):25246-25249
                                                                 res)))))))))
                                               (before middle_end/flambda/inlining_decision.ml(612):25263-30371
                                                 (let
                                                   (function_body =
                                                      (after middle_end/flambda/inlining_decision.ml(613):25295-25326
                                                        (apply
                                                          get_function_body
                                                          function_decl)))
                                                   (before middle_end/flambda/inlining_decision.ml(614):25336-30363
                                                     (let
                                                       (env =
                                                          (after middle_end/flambda/inlining_decision.ml(614):25346-25386
                                                            (apply
                                                              (field 36
                                                                (field 0
                                                                  (global Inline_and_simplify_aux!)))
                                                              env)))
                                                       (before middle_end/flambda/inlining_decision.ml(615):25396-30363
                                                         (let
                                                           (env =
                                                              (after middle_end/flambda/inlining_decision.ml(616):25414-25494
                                                                (apply
                                                                  (field 50
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                  env
                                                                  closure_id_being_applied
                                                                  dbg)))
                                                           (before middle_end/flambda/inlining_decision.ml(619):25510-30363
                                                             (let
                                                               (max_level =[int]
                                                                  (after middle_end/flambda/inlining_decision.ml(620):25534-25605
                                                                    (apply
                                                                    (field 2
                                                                    (field 0
                                                                    (global Clflags!)))
                                                                    (after middle_end/flambda/inlining_decision.ml(620):25566-25579
                                                                    (apply
                                                                    (field 3
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env))
                                                                    (field 0
                                                                    (field 141
                                                                    (global Clflags!))))))
                                                               (before middle_end/flambda/inlining_decision.ml(622):25621-30363
                                                                 (let
                                                                   (raw_inlining_threshold =
                                                                    (after middle_end/flambda/inlining_decision.ml(622):25650-25672
                                                                    (apply
                                                                    (field 14
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r)))
                                                                   (before middle_end/flambda/inlining_decision.ml(623):25682-30363
                                                                    (let
                                                                    (max_inlining_threshold =
                                                                    (if
                                                                    (after middle_end/flambda/inlining_decision.ml(624):25722-25739
                                                                    (apply
                                                                    (field 29
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env))
                                                                    (before middle_end/flambda/inlining_decision.ml(625):25755-25847
                                                                    (after middle_end/flambda/inlining_decision.ml(625):25755-25847
                                                                    (apply
                                                                    (field 3
                                                                    (global Inline_and_simplify_aux!))
                                                                    (after middle_end/flambda/inlining_decision.ml(626):25834-25847
                                                                    (apply
                                                                    (field 3
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))))
                                                                    (before middle_end/flambda/inlining_decision.ml(628):25871-25954
                                                                    (after middle_end/flambda/inlining_decision.ml(628):25871-25954
                                                                    (apply
                                                                    (field 2
                                                                    (global Inline_and_simplify_aux!))
                                                                    (after middle_end/flambda/inlining_decision.ml(629):25941-25954
                                                                    (apply
                                                                    (field 3
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(631):25970-30363
                                                                    (let
                                                                    (unthrottled_inlining_threshold =
                                                                    (if
                                                                    raw_inlining_threshold
                                                                    (let
                                                                    (inlining_threshold =a
                                                                    (field 0
                                                                    raw_inlining_threshold))
                                                                    (before middle_end/flambda/inlining_decision.ml(634):26127-26145
                                                                    inlining_threshold))
                                                                    (before middle_end/flambda/inlining_decision.ml(633):26067-26089
                                                                    max_inlining_threshold)))
                                                                    (before middle_end/flambda/inlining_decision.ml(636):26161-30363
                                                                    (let
                                                                    (inlining_threshold =
                                                                    (after middle_end/flambda/inlining_decision.ml(637):26194-26253
                                                                    (apply
                                                                    (field 2
                                                                    (field 0
                                                                    (global Inlining_cost!)))
                                                                    unthrottled_inlining_threshold
                                                                    max_inlining_threshold)))
                                                                    (before middle_end/flambda/inlining_decision.ml(639):26269-30363
                                                                    (let
                                                                    (inlining_threshold_diff =
                                                                    (after middle_end/flambda/inlining_decision.ml(640):26307-26362
                                                                    (apply
                                                                    (field 1
                                                                    (field 0
                                                                    (global Inlining_cost!)))
                                                                    unthrottled_inlining_threshold
                                                                    inlining_threshold)))
                                                                    (before middle_end/flambda/inlining_decision.ml(642):26378-30363
                                                                    (let
                                                                    (inlining_prevented =
                                                                    (if
                                                                    inlining_threshold
                                                                    (before middle_end/flambda/inlining_decision.ml(645):26516-26521
                                                                    0a)
                                                                    (before middle_end/flambda/inlining_decision.ml(644):26467-26471
                                                                    1a)))
                                                                    (before middle_end/flambda/inlining_decision.ml(647):26537-30363
                                                                    (let
                                                                    (simpl =
                                                                    (if
                                                                    inlining_prevented
                                                                    (before middle_end/flambda/inlining_decision.ml(649):26594-26649
                                                                    [1:
                                                                    [0: 0a]])
                                                                    (before middle_end/flambda/inlining_decision.ml(650):26663-29895
                                                                    (if
                                                                    (after middle_end/flambda/inlining_decision.ml(650):26666-26699
                                                                    (apply
                                                                    (field 5
                                                                    (global Int_replace_polymorphic_compare!))
                                                                    (after middle_end/flambda/inlining_decision.ml(650):26666-26686
                                                                    (apply
                                                                    (field 40
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env))
                                                                    max_level))
                                                                    (before middle_end/flambda/inlining_decision.ml(651):26715-26752
                                                                    [1:
                                                                    [0: 1a]])
                                                                    (before middle_end/flambda/inlining_decision.ml(652):26766-29895
                                                                    (let
                                                                    (self_call =
                                                                    (after middle_end/flambda/inlining_decision.ml(654):26810-26902
                                                                    (apply
                                                                    (field 28
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    (field 2
                                                                    function_decls)
                                                                    env)))
                                                                    (before middle_end/flambda/inlining_decision.ml(657):26926-29883
                                                                    (let
                                                                    (fun_cost =
                                                                    (makemutable 246
                                                                    (function
                                                                    param
                                                                    (after middle_end/flambda/inlining_decision.ml(659):26972-27408
                                                                    (apply
                                                                    (field 2
                                                                    (global Inlining_cost!))
                                                                    (field 7
                                                                    function_body)
                                                                    inlining_threshold
                                                                    (after middle_end/flambda/inlining_decision.ml(661):27097-27131
                                                                    (apply
                                                                    (field 0
                                                                    (global Stdlib__list!))
                                                                    (field 1
                                                                    function_decl)))
                                                                    0a)))))
                                                                    (before middle_end/flambda/inlining_decision.ml(667):27432-29883
                                                                    (let
                                                                    (recursive =
                                                                    (makemutable 246
                                                                    (function
                                                                    param
                                                                    (let
                                                                    (fun_var =
                                                                    (after middle_end/flambda/inlining_decision.ml(669):27494-27536
                                                                    (apply
                                                                    (field 10
                                                                    (global Closure_id!))
                                                                    closure_id_being_applied)))
                                                                    (before middle_end/flambda/inlining_decision.ml(670):27555-27641
                                                                    (after middle_end/flambda/inlining_decision.ml(670):27555-27641
                                                                    (apply
                                                                    (field 2
                                                                    (field 6
                                                                    (global Variable!)))
                                                                    fun_var
                                                                    (after middle_end/flambda/inlining_decision.ml(671):27597-27641
                                                                    (let
                                                                    (lzarg =
                                                                    (field 4
                                                                    value_set_of_closures)
                                                                    tag =a
                                                                    (caml_obj_tag
                                                                    lzarg))
                                                                    (if
                                                                    (== tag
                                                                    250)
                                                                    (field 0
                                                                    lzarg)
                                                                    (if
                                                                    (== tag
                                                                    246)
                                                                    (apply
                                                                    (field 1
                                                                    (global CamlinternalLazy!))
                                                                    lzarg)
                                                                    lzarg)))))))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(673):27666-29883
                                                                    (let
                                                                    (specialise_result =
                                                                    (after middle_end/flambda/inlining_decision.ml(674):27702-28025
                                                                    (apply
                                                                    specialise
                                                                    env r
                                                                    lhs_of_application
                                                                    function_decls
                                                                    function_decl
                                                                    closure_id_being_applied
                                                                    value_set_of_closures
                                                                    args
                                                                    args_approxs
                                                                    dbg
                                                                    simplify
                                                                    original
                                                                    recursive
                                                                    self_call
                                                                    inlining_threshold
                                                                    fun_cost
                                                                    inline_requested
                                                                    specialise_requested)))
                                                                    (before middle_end/flambda/inlining_decision.ml(681):28049-29883
                                                                    (switch* specialise_result
                                                                    case tag 0:
                                                                    (let
                                                                    (spec_reason =a
                                                                    (field 1
                                                                    specialise_result)
                                                                    res =a
                                                                    (field 0
                                                                    specialise_result))
                                                                    (before middle_end/flambda/inlining_decision.ml(683):28132-28172
                                                                    (makeblock 0
                                                                    res
                                                                    (makeblock 1
                                                                    spec_reason))))
                                                                    case tag 1:
                                                                    (let
                                                                    (spec_reason =a
                                                                    (field 0
                                                                    specialise_result))
                                                                    (before middle_end/flambda/inlining_decision.ml(685):28221-29883
                                                                    (let
                                                                    (only_use_of_function =
                                                                    0a)
                                                                    (before middle_end/flambda/inlining_decision.ml(687):28329-29883
                                                                    (let
                                                                    (size_from_approximation =
                                                                    (let
                                                                    (fun_var =
                                                                    (after middle_end/flambda/inlining_decision.ml(688):28387-28429
                                                                    (apply
                                                                    (field 10
                                                                    (global Closure_id!))
                                                                    closure_id_being_applied)))
                                                                    (before middle_end/flambda/inlining_decision.ml(689):28447-28974
                                                                    (catch
                                                                    (try
                                                                    (exit 39
                                                                    (after middle_end/flambda/inlining_decision.ml(690):28469-28568
                                                                    (apply
                                                                    (field 26
                                                                    (field 7
                                                                    (global Variable!)))
                                                                    fun_var
                                                                    (after middle_end/flambda/inlining_decision.ml(691):28529-28568
                                                                    (let
                                                                    (lzarg =
                                                                    (field 5
                                                                    value_set_of_closures)
                                                                    tag =a
                                                                    (caml_obj_tag
                                                                    lzarg))
                                                                    (if
                                                                    (== tag
                                                                    250)
                                                                    (field 0
                                                                    lzarg)
                                                                    (if
                                                                    (== tag
                                                                    246)
                                                                    (apply
                                                                    (field 1
                                                                    (global CamlinternalLazy!))
                                                                    lzarg)
                                                                    lzarg)))))))
                                                                    with exn
                                                                    (if
                                                                    (== exn
                                                                    (field 7
                                                                    (global Stdlib!)))
                                                                    (before middle_end/flambda/inlining_decision.ml(695):28672-28974
                                                                    (after middle_end/flambda/inlining_decision.ml(695):28672-28974
                                                                    (apply
                                                                    (field 1
                                                                    (global Misc!))
                                                                    [0:
                                                                    [11:
                                                                    "Approximation does not give a size for the function having fun_var "
                                                                    [15:
                                                                    [11:
                                                                    ".  value_set_of_closures: "
                                                                    [15: 0a]]]]
                                                                    "Approximation does not give a size for the function having fun_var %a.  value_set_of_closures: %a"]
                                                                    (field 5
                                                                    (global Variable!))
                                                                    fun_var
                                                                    (field 4
                                                                    (global Simple_value_approx!))
                                                                    value_set_of_closures)))
                                                                    (reraise
                                                                    exn)))
                                                                    with (39 size)
                                                                    (before middle_end/flambda/inlining_decision.ml(693):28612-28616
                                                                    size)))))
                                                                    (before middle_end/flambda/inlining_decision.ml(701):29002-29883
                                                                    (let
                                                                    (fun_vars =
                                                                    (after middle_end/flambda/inlining_decision.ml(701):29017-29054
                                                                    (apply
                                                                    (field 46
                                                                    (field 7
                                                                    (global Variable!)))
                                                                    (field 3
                                                                    function_decls))))
                                                                    (before middle_end/flambda/inlining_decision.ml(702):29070-29883
                                                                    (let
                                                                    (set_of_closures_origin =
                                                                    (field 2
                                                                    function_decls))
                                                                    (before middle_end/flambda/inlining_decision.ml(705):29178-29883
                                                                    (let
                                                                    (inline_result =
                                                                    (after middle_end/flambda/inlining_decision.ml(706):29212-29623
                                                                    (apply
                                                                    inline
                                                                    env r
                                                                    lhs_of_application
                                                                    closure_id_being_applied
                                                                    function_decl
                                                                    function_body
                                                                    value_set_of_closures
                                                                    only_use_of_function
                                                                    original
                                                                    recursive
                                                                    args
                                                                    size_from_approximation
                                                                    dbg
                                                                    simplify
                                                                    inline_requested
                                                                    specialise_requested
                                                                    fun_vars
                                                                    set_of_closures_origin
                                                                    self_call
                                                                    fun_cost
                                                                    inlining_threshold)))
                                                                    (before middle_end/flambda/inlining_decision.ml(714):29651-29883
                                                                    (switch* inline_result
                                                                    case tag 0:
                                                                    (let
                                                                    (inl_reason =a
                                                                    (field 1
                                                                    inline_result)
                                                                    res =a
                                                                    (field 0
                                                                    inline_result))
                                                                    (before middle_end/flambda/inlining_decision.ml(716):29733-29783
                                                                    (makeblock 0
                                                                    res
                                                                    (makeblock 2
                                                                    spec_reason
                                                                    inl_reason))))
                                                                    case tag 1:
                                                                    (let
                                                                    (inl_reason =a
                                                                    (field 0
                                                                    inline_result))
                                                                    (before middle_end/flambda/inlining_decision.ml(718):29835-29883
                                                                    (makeblock 1
                                                                    (makeblock 3
                                                                    spec_reason
                                                                    inl_reason)))))))))))))))))))))))))))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(721):29911-30363
                                                                    (let
                                                                    (*match* =
                                                                    (switch* simpl
                                                                    case tag 0:
                                                                    (let
                                                                    (decision =a
                                                                    (field 1
                                                                    simpl)
                                                                    *match* =a
                                                                    (field 0
                                                                    simpl)
                                                                    r =a
                                                                    (field 1
                                                                    *match*)
                                                                    expr =a
                                                                    (field 0
                                                                    *match*))
                                                                    (before middle_end/flambda/inlining_decision.ml(725):30073-30306
                                                                    (let
                                                                    (res =
                                                                    (if
                                                                    (after middle_end/flambda/inlining_decision.ml(726):30098-30122
                                                                    (apply
                                                                    (field 0
                                                                    (global Int_replace_polymorphic_compare!))
                                                                    (after middle_end/flambda/inlining_decision.ml(726):30098-30118
                                                                    (apply
                                                                    (field 40
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env)) 0))
                                                                    (before middle_end/flambda/inlining_decision.ml(727):30140-30195
                                                                    (makeblock 0
                                                                    expr
                                                                    (after middle_end/flambda/inlining_decision.ml(727):30146-30195
                                                                    (apply
                                                                    (field 11
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r
                                                                    raw_inlining_threshold))))
                                                                    (before middle_end/flambda/inlining_decision.ml(728):30213-30269
                                                                    (makeblock 0
                                                                    expr
                                                                    (after middle_end/flambda/inlining_decision.ml(728):30219-30269
                                                                    (apply
                                                                    (field 12
                                                                    (field 1
                                                                    (global Inline_and_simplify_aux!)))
                                                                    r
                                                                    inlining_threshold_diff))))))
                                                                    (before middle_end/flambda/inlining_decision.ml(730):30293-30306
                                                                    (makeblock 0
                                                                    res
                                                                    decision)))))
                                                                    case tag 1:
                                                                    (let
                                                                    (decision =a
                                                                    (field 0
                                                                    simpl))
                                                                    (before middle_end/flambda/inlining_decision.ml(723):29987-30019
                                                                    (makeblock 0
                                                                    (makeblock 0
                                                                    original
                                                                    original_r)
                                                                    decision))))
                                                                    decision =a
                                                                    (field 1
                                                                    *match*)
                                                                    res =a
                                                                    (field 0
                                                                    *match*))
                                                                    (before middle_end/flambda/inlining_decision.ml(732):30322-30363
                                                                    (seq
                                                                    (after middle_end/flambda/inlining_decision.ml(732):30322-30352
                                                                    (apply
                                                                    (field 54
                                                                    (field 0
                                                                    (global Inline_and_simplify_aux!)))
                                                                    env
                                                                    decision))
                                                                    (before middle_end/flambda/inlining_decision.ml(733):30360-30363
                                                                    res))))))))))))))))))))))))))))))))))
                                 (before middle_end/flambda/inlining_decision.ml(513):21143-21163
                                   (makeblock 0 original original_r)))))))))))))))
     should_inline_inside_declaration =
       (function decl
         (funct-body middle_end/flambda/inlining_decision.ml(740)<ghost>:30668-30723
           (before middle_end/flambda/inlining_decision.ml(741):30710-30723
             (not (field 5 decl))))))
    (pseudo _none_(0)<ghost>:-1--1
      (makeblock 0 for_call_site should_inline_inside_declaration))))
